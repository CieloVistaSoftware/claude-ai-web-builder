<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>WB Control Panel - Comprehensive Functionality Test (WB Components Only)</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #0a0a0a 0%, #1a1a2e 50%, #16213e 100%);
      color: #fff;
      min-height: 100vh;
      margin: 0;
      padding: 0;
    }
    .test-container {
      max-width: 1400px;
      margin: 0 auto;
      display: grid;
      grid-template-columns: 1fr 350px;
      gap: 30px;
      min-height: calc(100vh - 40px);
      padding: 24px;
    }
    .main-content {
      background: rgba(255,255,255,0.05);
      border-radius: 16px;
      padding: 30px;
      border: 1px solid rgba(255,255,255,0.1);
    }
    .control-panel-container {
      background: rgba(0,0,0,0.3);
      border-radius: 16px;
      padding: 20px;
      border: 1px solid rgba(255,255,255,0.2);
    }
    .test-section {
      background: rgba(255,255,255,0.08);
      border-radius: 12px;
      padding: 25px;
      margin: 20px 0;
      border: 1px solid rgba(255,255,255,0.15);
    }
    .functionality-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 20px;
      margin: 20px 0;
    }
    .feature-test {
      background: rgba(255,255,255,0.05);
      border-radius: 12px;
      padding: 20px;
      border: 1px solid rgba(255,255,255,0.1);
    }
    .feature-test h3 {
      color: #4ecdc4;
      margin-bottom: 10px;
    }
    .progress-bar {
      width: 100%;
      height: 8px;
      background: rgba(255,255,255,0.1);
      border-radius: 4px;
      overflow: hidden;
      margin: 10px 0;
    }
    .progress-fill {
      height: 100%;
      background: linear-gradient(90deg, #00d4ff, #4ecdc4);
      width: 0%;
      transition: width 0.5s ease;
    }
    @media (max-width: 1200px) {
      .test-container {
        grid-template-columns: 1fr;
        gap: 20px;
      }
      .control-panel-container {
        order: -1;
      }
    }
  </style>
</head>
<body>
  <div class="test-container">
    <div class="main-content">
      <wb-layout layout="top-nav" style="width:100%;display:block;">
        <header>
          <h1>ğŸ›ï¸ WB Control Panel Comprehensive Test (WB Components Only)</h1>
        </header>
        <main>
          <div class="test-section">
            <h2>ğŸ“Š System Status</h2>
            <wb-status id="system-status" position="top" max-events="2"></wb-status>
            <div class="progress-bar">
              <div class="progress-fill" id="overall-progress"></div>
            </div>
          </div>
          <div class="test-section">
            <h2>ğŸ”§ Control Panel Tests</h2>
            <div class="functionality-grid">
              <div class="feature-test">
                <h3>Panel Rendering</h3>
                <wb-status id="render-status" position="top" max-events="1"></wb-status>
                <wb-input id="render-details" type="text" value="Checking if control panel renders properly..." readonly></wb-input>
              </div>
              <div class="feature-test">
                <h3>Sections & Controls</h3>
                <wb-status id="sections-status" position="top" max-events="1"></wb-status>
                <wb-input id="sections-details" type="text" value="Validating control sections and inputs..." readonly></wb-input>
              </div>
              <div class="feature-test">
                <h3>Event Handling</h3>
                <wb-status id="events-status" position="top" max-events="1"></wb-status>
                <wb-input id="events-details" type="text" value="Testing control interactions and events..." readonly></wb-input>
              </div>
              <div class="feature-test">
                <h3>Data Binding</h3>
                <wb-status id="binding-status" position="top" max-events="1"></wb-status>
                <wb-input id="binding-details" type="text" value="Verifying data flow and updates..." readonly></wb-input>
              </div>
            </div>
          </div>
          <div class="test-section">
            <h2>ğŸ§ª Interactive Tests</h2>
            <div style="display:flex;flex-wrap:wrap;gap:10px;align-items:center;">
              <wb-button id="btn-interaction" variant="primary">Test Control Interactions</wb-button>
              <wb-button id="btn-data-updates" variant="primary">Test Data Updates</wb-button>
              <wb-button id="btn-panel-toggle" variant="secondary">Test Panel Toggle</wb-button>
              <wb-button id="btn-reset" variant="secondary">Reset Panel</wb-button>
            </div>
          </div>
          <div class="test-section">
            <h2>ğŸ“ Test Log</h2>
            <wb-log-viewer id="test-log"></wb-log-viewer>
          </div>
        </main>
      </wb-layout>
    </div>
    <div class="control-panel-container">
      <h2 style="color: #00d4ff; margin-bottom: 20px;">ğŸ›ï¸ Live Control Panel</h2>
      <control-panel id="main-control-panel"></control-panel>
    </div>
  </div>
  <div style="margin:32px 0 0 0;">
    <wb-event-log id="event-log" style="width:100%;max-width:1400px;margin:0 auto;display:block;"></wb-event-log>
  </div>
  <script>
    // Use WB components for all controls and log output
    // Log test actions to wb-log-viewer and wb-event-log
    const testLog = document.getElementById('test-log');
    const eventLog = document.getElementById('event-log');
    function log(message, type = 'info') {
      const timestamp = new Date().toISOString().substring(11, 23);
      testLog.add(`[${timestamp}] ${type.toUpperCase()}: ${message}`);
      if (eventLog) eventLog.addEvent(type, message, { source: 'test-script' });
    }
    // Button event handlers
    document.getElementById('btn-interaction').addEventListener('click', () => {
      log('Manual control interaction test triggered.');
      eventLog.addEvent('info', 'Manual control interaction test triggered.', { source: 'test-script' });
    });
    document.getElementById('btn-data-updates').addEventListener('click', () => {
      log('Testing data update functionality...');
      eventLog.addEvent('info', 'Testing data update functionality...', { source: 'test-script' });
    });
    document.getElementById('btn-panel-toggle').addEventListener('click', () => {
      log('Testing panel toggle functionality...');
      eventLog.addEvent('info', 'Testing panel toggle functionality...', { source: 'test-script' });
    });
    document.getElementById('btn-reset').addEventListener('click', () => {
      log('Resetting control panel...');
      eventLog.addEvent('info', 'Resetting control panel...', { source: 'test-script' });
    });
    // Example: update status indicators
    function updateStatus(id, status, details) {
      const statusComp = document.getElementById(id);
      if (statusComp) {
        statusComp.addEvent(status, details, { source: 'test-script' });
      }
    }
    // Example: update progress bar
    function setProgress(percent) {
      document.getElementById('overall-progress').style.width = percent + '%';
    }
    // Example: simulate test progress
    setTimeout(() => {
      updateStatus('system-status', 'success', 'System initialized');
      setProgress(25);
      updateStatus('render-status', 'success', 'Panel rendered');
      setProgress(50);
      updateStatus('sections-status', 'success', 'Sections validated');
      setProgress(75);
      updateStatus('events-status', 'success', 'Events handled');
      setProgress(90);
      updateStatus('binding-status', 'success', 'Data binding OK');
      setProgress(100);
      log('All tests completed.');
    }, 1200);
  </script>
</body>
</html>