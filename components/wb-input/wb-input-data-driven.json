{
  "component": {
    "name": "wb-input",
    "version": "2.0.0",
    "description": "Data-driven input component with validation and theming",
    "type": "form-component",
    "author": "Website Builder System",
    "dependencies": [],
    "assets": []
  },
  "template": {
    "structure": [
      {
        "tag": "div",
        "attributes": {
          "class": "wb-input-wrapper wb-input--{{type}} wb-input--{{size}} wb-input--{{variant}}",
          "data-disabled": { "bind": { "data": "disabled" } },
          "data-readonly": { "bind": { "data": "readonly" } }
        },
        "children": [
          {
            "tag": "label",
            "attributes": {
              "class": "wb-input-label",
              "for": "{{id}}"
            },
            "content": "{{label}}",
            "condition": {
              "field": "label",
              "operator": "exists"
            }
          },
          {
            "tag": "div",
            "attributes": {
              "class": "wb-input-field-container"
            },
            "children": [
              {
                "tag": "{{inputTag}}",
                "attributes": {
                  "id": "{{id}}",
                  "class": "wb-input-field",
                  "type": { "bind": { "data": "type" } },
                  "name": { "bind": { "data": "name" } },
                  "value": { "bind": { "data": "value" } },
                  "placeholder": { "bind": { "data": "placeholder" } },
                  "disabled": { "bind": { "data": "disabled" } },
                  "readonly": { "bind": { "data": "readonly" } },
                  "required": { "bind": { "data": "required" } },
                  "minlength": { "bind": { "data": "minLength" } },
                  "maxlength": { "bind": { "data": "maxLength" } },
                  "min": { "bind": { "data": "min" } },
                  "max": { "bind": { "data": "max" } },
                  "step": { "bind": { "data": "step" } },
                  "pattern": { "bind": { "data": "pattern" } },
                  "rows": { "bind": { "data": "rows" } },
                  "cols": { "bind": { "data": "cols" } },
                  "aria-label": { "bind": { "data": "ariaLabel" } },
                  "aria-describedby": "{{id}}-help {{id}}-error"
                },
                "content": "{{value}}",
                "condition": {
                  "field": "type",
                  "operator": "equals",
                  "value": "textarea"
                }
              },
              {
                "tag": "input",
                "attributes": {
                  "id": "{{id}}",
                  "class": "wb-input-field",
                  "type": { "bind": { "data": "type" } },
                  "name": { "bind": { "data": "name" } },
                  "value": { "bind": { "data": "value" } },
                  "placeholder": { "bind": { "data": "placeholder" } },
                  "disabled": { "bind": { "data": "disabled" } },
                  "readonly": { "bind": { "data": "readonly" } },
                  "required": { "bind": { "data": "required" } },
                  "minlength": { "bind": { "data": "minLength" } },
                  "maxlength": { "bind": { "data": "maxLength" } },
                  "min": { "bind": { "data": "min" } },
                  "max": { "bind": { "data": "max" } },
                  "step": { "bind": { "data": "step" } },
                  "pattern": { "bind": { "data": "pattern" } },
                  "aria-label": { "bind": { "data": "ariaLabel" } },
                  "aria-describedby": "{{id}}-help {{id}}-error"
                },
                "condition": {
                  "field": "type",
                  "operator": "notEquals",
                  "value": "textarea"
                }
              },
              {
                "tag": "span",
                "attributes": {
                  "class": "wb-input-icon"
                },
                "content": "{{icon}}",
                "condition": {
                  "field": "icon",
                  "operator": "exists"
                }
              }
            ]
          },
          {
            "tag": "div",
            "attributes": {
              "class": "wb-input-help-text",
              "id": "{{id}}-help"
            },
            "content": "{{helpText}}",
            "condition": {
              "field": "helpText",
              "operator": "exists"
            }
          },
          {
            "tag": "div",
            "attributes": {
              "class": "wb-input-error-message",
              "id": "{{id}}-error",
              "role": "alert"
            },
            "content": "{{errorMessage}}",
            "condition": {
              "field": "errorMessage",
              "operator": "exists"
            }
          },
          {
            "tag": "div",
            "attributes": {
              "class": "wb-input-character-count"
            },
            "content": "{{characterCount}}/{{maxLength}}",
            "condition": {
              "field": "showCharacterCount",
              "operator": "truthy"
            }
          }
        ]
      }
    ]
  },
  "styles": {
    "base": {
      "position": "relative",
      "display": "block",
      "width": "100%",
      "fontFamily": "inherit"
    },
    "elements": {
      ".wb-input-label": {
        "display": "block",
        "marginBottom": "0.5rem",
        "fontSize": "0.875rem",
        "fontWeight": "500",
        "color": "var(--text-primary)"
      },
      ".wb-input-field-container": {
        "position": "relative",
        "display": "flex",
        "alignItems": "center"
      },
      ".wb-input-field": {
        "display": "block",
        "width": "100%",
        "padding": "var(--wb-input-padding, 0.75rem)",
        "fontSize": "var(--wb-input-font-size, 0.875rem)",
        "lineHeight": "1.5",
        "color": "var(--text-primary)",
        "backgroundColor": "var(--bg-primary)",
        "border": "1px solid var(--border-color)",
        "borderRadius": "var(--wb-input-border-radius, 6px)",
        "transition": "var(--wb-input-transition, all 0.2s ease)",
        "outline": "none"
      },
      ".wb-input-field:focus": {
        "borderColor": "var(--primary)",
        "boxShadow": "0 0 0 3px rgba(99, 102, 241, 0.1)"
      },
      ".wb-input-field::placeholder": {
        "color": "var(--text-secondary)",
        "opacity": "1"
      },
      ".wb-input-icon": {
        "position": "absolute",
        "right": "0.75rem",
        "color": "var(--text-secondary)",
        "pointerEvents": "none"
      },
      ".wb-input-help-text": {
        "marginTop": "0.25rem",
        "fontSize": "0.75rem",
        "color": "var(--text-secondary)"
      },
      ".wb-input-error-message": {
        "marginTop": "0.25rem",
        "fontSize": "0.75rem",
        "color": "var(--error-color)"
      },
      ".wb-input-character-count": {
        "marginTop": "0.25rem",
        "fontSize": "0.75rem",
        "color": "var(--text-secondary)",
        "textAlign": "right"
      }
    },
    "variants": {
      "filled": {
        ".wb-input-field": {
          "backgroundColor": "var(--bg-secondary)",
          "border": "1px solid transparent"
        },
        ".wb-input-field:focus": {
          "backgroundColor": "var(--bg-primary)",
          "borderColor": "var(--primary)"
        }
      },
      "minimal": {
        ".wb-input-field": {
          "border": "none",
          "borderBottom": "1px solid var(--border-color)",
          "borderRadius": "0",
          "backgroundColor": "transparent"
        },
        ".wb-input-field:focus": {
          "borderBottomColor": "var(--primary)",
          "boxShadow": "none"
        }
      }
    },
    "sizes": {
      "small": {
        ".wb-input-field": {
          "padding": "0.5rem",
          "fontSize": "0.75rem"
        }
      },
      "large": {
        ".wb-input-field": {
          "padding": "1rem",
          "fontSize": "1rem"
        }
      }
    },
    "states": {
      "error": {
        ".wb-input-field": {
          "borderColor": "var(--error-color)"
        },
        ".wb-input-field:focus": {
          "borderColor": "var(--error-color)",
          "boxShadow": "0 0 0 3px rgba(var(--error-color-rgb, 239, 68, 68), 0.1)"
        }
      },
      "success": {
        ".wb-input-field": {
          "borderColor": "var(--success-color)"
        },
        ".wb-input-field:focus": {
          "borderColor": "var(--success-color)",
          "boxShadow": "0 0 0 3px rgba(var(--success-color-rgb, 16, 185, 129), 0.1)"
        }
      },
      "warning": {
        ".wb-input-field": {
          "borderColor": "var(--warning-color)"
        },
        ".wb-input-field:focus": {
          "borderColor": "var(--warning-color)",
          "boxShadow": "0 0 0 3px rgba(var(--warning-color-rgb, 245, 158, 11), 0.1)"
        }
      },
      "disabled": {
        ".wb-input-field": {
          "backgroundColor": "var(--bg-secondary)",
          "color": "var(--text-secondary)",
          "cursor": "not-allowed",
          "opacity": "0.6"
        }
      },
      "readonly": {
        ".wb-input-field": {
          "backgroundColor": "var(--bg-secondary)",
          "cursor": "default"
        }
      }
    },
    "responsive": {
      "(max-width: 640px)": {
        ".wb-input-field": {
          "fontSize": "16px"
        }
      }
    }
  },
  "handlers": {
    "input": {
      "selector": ".wb-input-field",
      "action": {
        "type": "updateData",
        "payload": {
          "value": "event.target.value"
        }
      }
    },
    "focus": {
      "selector": ".wb-input-field",
      "action": {
        "type": "setState",
        "payload": {
          "state": "focused"
        }
      }
    },
    "blur": {
      "selector": ".wb-input-field",
      "action": {
        "type": "method",
        "payload": {
          "method": "validateInput"
        }
      }
    },
    "keyup": {
      "selector": ".wb-input-field",
      "action": {
        "type": "method",
        "payload": {
          "method": "updateCharacterCount"
        }
      }
    }
  },
  "defaults": {
    "data": {
      "type": "text",
      "size": "standard",
      "variant": "standard",
      "value": "",
      "placeholder": "",
      "disabled": false,
      "readonly": false,
      "required": false,
      "id": "input-{{timestamp}}",
      "name": "",
      "inputTag": "input",
      "showCharacterCount": false,
      "characterCount": 0
    },
    "state": "default"
  },
  "events": {
    "ready": "wbInputReady",
    "change": "wbInputChange",
    "focus": "wbInputFocus",
    "blur": "wbInputBlur",
    "validate": "wbInputValidate",
    "stateChanged": "wbInputStateChanged"
  },
  "validation": {
    "required": ["id"],
    "schema": {
      "label": { "type": "string", "maxLength": 100 },
      "type": { "type": "string", "enum": ["text", "email", "password", "number", "tel", "url", "search", "textarea"] },
      "value": { "type": "string" },
      "placeholder": { "type": "string", "maxLength": 200 },
      "disabled": { "type": "boolean" },
      "readonly": { "type": "boolean" },
      "required": { "type": "boolean" },
      "size": { "type": "string", "enum": ["small", "standard", "large"] },
      "variant": { "type": "string", "enum": ["standard", "filled", "minimal"] },
      "minLength": { "type": "integer", "minimum": 0 },
      "maxLength": { "type": "integer", "minimum": 1 },
      "min": { "type": "number" },
      "max": { "type": "number" },
      "step": { "type": "number" },
      "pattern": { "type": "string" },
      "rows": { "type": "integer", "minimum": 1 },
      "cols": { "type": "integer", "minimum": 1 },
      "id": { "type": "string", "pattern": "^[a-zA-Z][a-zA-Z0-9-_]*$" },
      "name": { "type": "string" },
      "helpText": { "type": "string", "maxLength": 200 },
      "icon": { "type": "string" },
      "showCharacterCount": { "type": "boolean" }
    }
  },
  "accessibility": {
    "features": [
      "keyboard navigation",
      "screen reader support",
      "focus management",
      "ARIA attributes",
      "label association",
      "error announcements"
    ],
    "attributes": {
      "aria-label": "dynamic",
      "aria-describedby": "help text and error messages",
      "aria-invalid": "validation state",
      "role": "textbox"
    }
  },
  "examples": {
    "basic": {
      "label": "Name",
      "type": "text",
      "placeholder": "Enter your name",
      "id": "name-input"
    },
    "email": {
      "label": "Email Address",
      "type": "email",
      "placeholder": "you@example.com",
      "required": true,
      "id": "email-input"
    },
    "password": {
      "label": "Password",
      "type": "password",
      "placeholder": "Enter password",
      "minLength": 8,
      "required": true,
      "id": "password-input"
    },
    "textarea": {
      "label": "Description",
      "type": "textarea",
      "placeholder": "Describe your project...",
      "rows": 4,
      "maxLength": 500,
      "showCharacterCount": true,
      "id": "description-input"
    },
    "number": {
      "label": "Age",
      "type": "number",
      "min": 0,
      "max": 120,
      "placeholder": "Enter your age",
      "id": "age-input"
    },
    "withIcon": {
      "label": "Search",
      "type": "search",
      "placeholder": "Search...",
      "icon": "üîç",
      "id": "search-input"
    },
    "withHelp": {
      "label": "Username",
      "type": "text",
      "placeholder": "Choose a username",
      "helpText": "Must be 3-20 characters, letters and numbers only",
      "minLength": 3,
      "maxLength": 20,
      "pattern": "^[a-zA-Z0-9]+$",
      "id": "username-input"
    },
    "variants": {
      "filled": {
        "label": "Filled Input",
        "variant": "filled",
        "placeholder": "Type here...",
        "id": "filled-input"
      },
      "minimal": {
        "label": "Minimal Input",
        "variant": "minimal",
        "placeholder": "Type here...",
        "id": "minimal-input"
      }
    },
    "sizes": {
      "small": {
        "label": "Small Input",
        "size": "small",
        "placeholder": "Small size",
        "id": "small-input"
      },
      "large": {
        "label": "Large Input",
        "size": "large",
        "placeholder": "Large size",
        "id": "large-input"
      }
    }
  }
}