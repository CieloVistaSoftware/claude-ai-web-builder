<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WB Chatbot Component Demo</title>
    
    <link rel="stylesheet" href="../../styles/main.css">
    
    <script type="module" src="../wb-demo/wb-demo.js"></script>
    <script type="module" src="../wb-button/wb-button.js"></script>
    <script type="module" src="../wb-event-log/wb-event-log.js"></script>
</head>
<body style="margin: 0; padding: 1rem; background: var(--surface-900);">
    
    <wb-demo title="WB Chatbot Component" style="width: 95vw; margin: 0 auto;">
        <div slot="description">
            <p>The <code>&lt;wb-chatbot&gt;</code> component provides an AI-powered chat interface. 
            This is a placeholder demo - the component is currently in development using React/TSX.</p>
        </div>
        
        <div slot="examples" style="padding: 1rem;">

            <!-- Status -->
            <wb-demo-section>
                <h2>üöß Component Status</h2>
                <div style="padding: 2rem; background: var(--surface-700); border-radius: 8px; text-align: center;">
                    <div style="font-size: 3rem; margin-bottom: 1rem;">ü§ñ</div>
                    <h3 style="color: var(--warning-color); margin-bottom: 1rem;">Under Development</h3>
                    <p style="color: var(--text-secondary); max-width: 600px; margin: 0 auto;">
                        The wb-chatbot component is currently being developed using React/TSX. 
                        The native Web Component version will be available soon.
                    </p>
                </div>
            </wb-demo-section>

            <!-- Available Files -->
            <wb-demo-section>
                <h2>üìÅ Available Files</h2>
                <div style="display: grid; gap: 1rem;">
                    <div style="padding: 1rem; background: var(--surface-700); border-radius: 8px;">
                        <code style="color: var(--primary);">wb-chatbot.tsx</code>
                        <p style="margin: 0.5rem 0 0 0; color: var(--text-secondary);">React/TSX implementation of the chatbot</p>
                    </div>
                    <div style="padding: 1rem; background: var(--surface-700); border-radius: 8px;">
                        <code style="color: var(--primary);">wb-framework-assistant.tsx</code>
                        <p style="margin: 0.5rem 0 0 0; color: var(--text-secondary);">Framework assistant variant</p>
                    </div>
                    <div style="padding: 1rem; background: var(--surface-700); border-radius: 8px;">
                        <code style="color: var(--primary);">wb-chatbot.html</code>
                        <p style="margin: 0.5rem 0 0 0; color: var(--text-secondary);">Standalone HTML chatbot interface</p>
                    </div>
                </div>
            </wb-demo-section>

            <!-- Planned Features -->
            <wb-demo-section>
                <h2>‚ú® Planned Features</h2>
                <ul style="list-style: none; padding: 0; display: grid; gap: 0.5rem;">
                    <li style="padding: 0.75rem; background: var(--surface-700); border-radius: 8px;">
                        ‚úÖ Real-time chat interface
                    </li>
                    <li style="padding: 0.75rem; background: var(--surface-700); border-radius: 8px;">
                        ‚úÖ Message history
                    </li>
                    <li style="padding: 0.75rem; background: var(--surface-700); border-radius: 8px;">
                        ‚úÖ Typing indicators
                    </li>
                    <li style="padding: 0.75rem; background: var(--surface-700); border-radius: 8px;">
                        ‚è≥ AI integration (Claude API)
                    </li>
                    <li style="padding: 0.75rem; background: var(--surface-700); border-radius: 8px;">
                        ‚è≥ Native Web Component version
                    </li>
                </ul>
            </wb-demo-section>

            <!-- Mock Chat Interface -->
            <wb-demo-section>
                <h2>üí¨ Mock Chat Preview</h2>
                <div id="mock-chat" style="max-width: 500px; margin: 0 auto; border: 1px solid var(--border-color); border-radius: 12px; overflow: hidden;">
                    <!-- Chat Header -->
                    <div style="padding: 1rem; background: var(--primary); color: white; display: flex; align-items: center; gap: 0.5rem;">
                        <span style="font-size: 1.5rem;">ü§ñ</span>
                        <div>
                            <div style="font-weight: bold;">WB Assistant</div>
                            <div style="font-size: 0.75rem; opacity: 0.8;">Online</div>
                        </div>
                    </div>
                    
                    <!-- Chat Messages -->
                    <div id="chat-messages" style="height: 300px; overflow-y: auto; padding: 1rem; background: var(--surface-800); display: flex; flex-direction: column; gap: 1rem;">
                        <div style="display: flex; gap: 0.5rem;">
                            <div style="width: 32px; height: 32px; border-radius: 50%; background: var(--primary); display: flex; align-items: center; justify-content: center;">ü§ñ</div>
                            <div style="background: var(--surface-700); padding: 0.75rem 1rem; border-radius: 12px; border-top-left-radius: 4px; max-width: 70%;">
                                Hello! I'm the WB Assistant. How can I help you today?
                            </div>
                        </div>
                    </div>
                    
                    <!-- Chat Input -->
                    <div style="padding: 1rem; background: var(--surface-700); display: flex; gap: 0.5rem;">
                        <input type="text" id="chat-input" placeholder="Type a message..." 
                               style="flex: 1; padding: 0.75rem; border: 1px solid var(--border-color); border-radius: 8px; background: var(--surface-800); color: var(--text-primary);">
                        <wb-button variant="primary" onclick="sendMockMessage()">Send</wb-button>
                    </div>
                </div>
            </wb-demo-section>

            <!-- Event Log -->
            <wb-demo-section>
                <h2>üìã Event Log</h2>
                <wb-event-log 
                    id="demo-event-log"
                    max-events="20"
                    auto-scroll="true"
                    show-timestamps="true"
                    style="max-height: 200px;">
                </wb-event-log>
            </wb-demo-section>

        </div>
    </wb-demo>

    <script>
        let eventLog;
        const mockResponses = [
            "I can help you with that! What specifically would you like to know?",
            "That's a great question. Let me explain...",
            "I understand. Here's what I suggest...",
            "Sure! The WB component library makes this easy.",
            "Let me check that for you..."
        ];

        document.addEventListener('DOMContentLoaded', () => {
            eventLog = document.getElementById('demo-event-log');
            logEvent('info', 'ü§ñ WB Chatbot Demo initialized');
            
            // Enter key to send
            document.getElementById('chat-input').addEventListener('keydown', (e) => {
                if (e.key === 'Enter') sendMockMessage();
            });
        });

        function logEvent(type, message) {
            if (eventLog && eventLog.addEvent) {
                eventLog.addEvent({ type, message, source: 'wb-chatbot-demo' });
            }
        }

        function sendMockMessage() {
            const input = document.getElementById('chat-input');
            const message = input.value.trim();
            if (!message) return;
            
            const messagesContainer = document.getElementById('chat-messages');
            
            // Add user message
            const userMsg = document.createElement('div');
            userMsg.style.cssText = 'display: flex; gap: 0.5rem; justify-content: flex-end;';
            userMsg.innerHTML = `
                <div style="background: var(--primary); color: white; padding: 0.75rem 1rem; border-radius: 12px; border-top-right-radius: 4px; max-width: 70%;">
                    ${message}
                </div>
            `;
            messagesContainer.appendChild(userMsg);
            
            logEvent('info', `User: ${message}`);
            input.value = '';
            
            // Simulate bot response
            setTimeout(() => {
                const botResponse = mockResponses[Math.floor(Math.random() * mockResponses.length)];
                const botMsg = document.createElement('div');
                botMsg.style.cssText = 'display: flex; gap: 0.5rem;';
                botMsg.innerHTML = `
                    <div style="width: 32px; height: 32px; border-radius: 50%; background: var(--primary); display: flex; align-items: center; justify-content: center;">ü§ñ</div>
                    <div style="background: var(--surface-700); padding: 0.75rem 1rem; border-radius: 12px; border-top-left-radius: 4px; max-width: 70%;">
                        ${botResponse}
                    </div>
                `;
                messagesContainer.appendChild(botMsg);
                messagesContainer.scrollTop = messagesContainer.scrollHeight;
                
                logEvent('success', `Bot: ${botResponse}`);
            }, 1000);
            
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }
    </script>
</body>
</html>
