{
  "component": {
    "name": "wb-card",
    "version": "1.0.0",
    "description": "Data-driven card component with image, title, content, and actions",
    "type": "ui-component",
    "author": "Website Builder System",
    "dependencies": ["wb-button"],
    "assets": []
  },
  "template": {
    "structure": [
      {
        "tag": "div",
        "attributes": {
          "class": "wb-card",
          "data-variant": { "bind": { "data": "variant" } }
        },
        "children": [
          {
            "tag": "div",
            "attributes": { "class": "wb-card__header" },
            "condition": { "field": "image", "operator": "exists" },
            "children": [
              {
                "tag": "img",
                "attributes": {
                  "class": "wb-card__image",
                  "src": { "bind": { "data": "image" } },
                  "alt": { "bind": { "data": "imageAlt" } }
                }
              }
            ]
          },
          {
            "tag": "div",
            "attributes": { "class": "wb-card__body" },
            "children": [
              {
                "tag": "h3",
                "attributes": { "class": "wb-card__title" },
                "content": "{{title}}"
              },
              {
                "tag": "div",
                "attributes": { "class": "wb-card__subtitle" },
                "content": "{{subtitle}}",
                "condition": { "field": "subtitle", "operator": "exists" }
              },
              {
                "tag": "p",
                "attributes": { "class": "wb-card__content" },
                "content": "{{content}}"
              },
              {
                "tag": "div",
                "attributes": { "class": "wb-card__tags" },
                "condition": { "field": "tags", "operator": "exists" },
                "children": [
                  {
                    "tag": "span",
                    "attributes": { "class": "wb-card__tag" },
                    "content": "{{tag}}",
                    "repeat": {
                      "collection": "tags",
                      "item": "tag"
                    }
                  }
                ]
              }
            ]
          },
          {
            "tag": "div",
            "attributes": { "class": "wb-card__footer" },
            "condition": { "field": "actions", "operator": "exists" },
            "children": [
              {
                "tag": "button",
                "attributes": {
                  "class": "wb-btn wb-btn--{{actionVariant}}",
                  "data-action": "{{actionId}}"
                },
                "content": "{{actionLabel}}",
                "repeat": {
                  "collection": "actions",
                  "item": "action"
                }
              }
            ]
          }
        ]
      }
    ]
  },
  "styles": {
    "base": {
      "display": "flex",
      "flexDirection": "column",
      "borderRadius": "var(--wb-card-radius, 8px)",
      "overflow": "hidden",
      "backgroundColor": "var(--bg-secondary)",
      "border": "1px solid var(--border-color)",
      "transition": "all 0.2s ease",
      "maxWidth": "var(--wb-card-max-width, 320px)"
    },
    "variants": {
      "elevated": {
        "boxShadow": "0 4px 6px rgba(0, 0, 0, 0.1)"
      },
      "outlined": {
        "border": "2px solid var(--primary)"
      },
      "interactive": {
        "cursor": "pointer"
      }
    },
    "themes": {
      "dark": {
        "backgroundColor": "var(--bg-secondary)",
        "border": "1px solid var(--border-color)",
        "color": "var(--text-primary)",
        ".wb-card__title": {
          "color": "var(--text-primary)"
        },
        ".wb-card__subtitle": {
          "color": "var(--text-secondary)"
        },
        ".wb-card__content": {
          "color": "var(--text-primary)"
        },
        ".wb-card__footer": {
          "borderTop": "1px solid var(--border-color)"
        },
        ".wb-card__tag": {
          "backgroundColor": "var(--primary)",
          "color": "white"
        }
      },
      "light": {
        "backgroundColor": "#ffffff",
        "border": "1px solid #e2e8f0",
        "color": "#1e293b",
        ".wb-card__title": {
          "color": "#1e293b"
        },
        ".wb-card__subtitle": {
          "color": "#64748b"
        },
        ".wb-card__content": {
          "color": "#1e293b"
        },
        ".wb-card__footer": {
          "borderTop": "1px solid #e2e8f0"
        },
        ".wb-card__tag": {
          "backgroundColor": "#6366f1",
          "color": "white"
        }
      }
    },
    "states": {
      "hover": {
        "transform": "translateY(-2px)",
        "boxShadow": "0 6px 12px rgba(0, 0, 0, 0.15)"
      },
      "active": {
        "transform": "scale(0.98)"
      },
      "disabled": {
        "opacity": "0.6",
        "pointerEvents": "none"
      }
    },
    "elements": {
      ".wb-card__header": {
        "position": "relative",
        "paddingBottom": "56.25%",
        "overflow": "hidden"
      },
      ".wb-card__image": {
        "position": "absolute",
        "top": "0",
        "left": "0",
        "width": "100%",
        "height": "100%",
        "objectFit": "cover"
      },
      ".wb-card__body": {
        "padding": "1.5rem",
        "flex": "1"
      },
      ".wb-card__title": {
        "margin": "0 0 0.5rem",
        "fontSize": "1.25rem",
        "fontWeight": "600",
        "color": "var(--text-primary)"
      },
      ".wb-card__subtitle": {
        "margin": "0 0 1rem",
        "fontSize": "0.875rem",
        "color": "var(--text-secondary)"
      },
      ".wb-card__content": {
        "margin": "0 0 1rem",
        "color": "var(--text-primary)",
        "lineHeight": "1.5"
      },
      ".wb-card__tags": {
        "display": "flex",
        "flexWrap": "wrap",
        "gap": "0.5rem",
        "marginTop": "1rem"
      },
      ".wb-card__tag": {
        "padding": "0.25rem 0.75rem",
        "backgroundColor": "var(--primary)",
        "color": "white",
        "borderRadius": "999px",
        "fontSize": "0.75rem",
        "fontWeight": "500"
      },
      ".wb-card__footer": {
        "padding": "1rem 1.5rem",
        "borderTop": "1px solid var(--border-color)",
        "display": "flex",
        "gap": "0.5rem",
        "justifyContent": "flex-end"
      }
    },
    "responsive": {
      "(max-width: 640px)": {
        "maxWidth": "100%"
      }
    }
  },
  "handlers": {
    "click": {
      "selector": "[data-action]",
      "action": {
        "type": "dispatch",
        "payload": {
          "event": "cardAction"
        }
      }
    },
    "mouseenter": {
      "action": {
        "type": "setState",
        "payload": {
          "state": "hover"
        }
      }
    },
    "mouseleave": {
      "action": {
        "type": "setState",
        "payload": {
          "state": "default"
        }
      }
    }
  },
  "defaults": {
    "data": {
      "title": "Card Title",
      "content": "Card content goes here.",
      "variant": "elevated",
      "theme": "dark"
    },
    "state": "default"
  },
  "events": {
    "ready": "wbCardReady",
    "stateChanged": "wbCardStateChanged",
    "cardAction": "wbCardAction"
  },
  "validation": {
    "required": ["title"],
    "schema": {
      "title": { "type": "string", "maxLength": 100 },
      "subtitle": { "type": "string", "maxLength": 150 },
      "content": { "type": "string", "maxLength": 500 },
      "image": { "type": "string", "format": "url" },
      "imageAlt": { "type": "string", "maxLength": 100 },
      "variant": { "type": "string", "enum": ["elevated", "outlined", "interactive"] },
      "theme": { "type": "string", "enum": ["dark", "light"] },
      "tags": { "type": "array", "items": { "type": "string" }, "maxItems": 5 },
      "actions": {
        "type": "array",
        "items": {
          "type": "object",
          "properties": {
            "actionId": { "type": "string" },
            "actionLabel": { "type": "string" },
            "actionVariant": { "type": "string", "enum": ["primary", "secondary", "success"] }
          },
          "required": ["actionId", "actionLabel"]
        },
        "maxItems": 3
      }
    }
  },
  "examples": {
    "basic": {
      "title": "Basic Card",
      "content": "This is a simple card with just title and content."
    },
    "withImage": {
      "title": "Image Card",
      "subtitle": "With subtitle",
      "content": "This card includes an image header.",
      "image": "https://via.placeholder.com/320x180",
      "imageAlt": "Placeholder image"
    },
    "withActions": {
      "title": "Interactive Card",
      "content": "This card has action buttons.",
      "variant": "interactive",
      "actions": [
        {
          "actionId": "view",
          "actionLabel": "View Details",
          "actionVariant": "primary"
        },
        {
          "actionId": "share",
          "actionLabel": "Share",
          "actionVariant": "secondary"
        }
      ]
    },
    "withTags": {
      "title": "Tagged Card",
      "content": "This card displays tags.",
      "tags": ["JavaScript", "Web Components", "UI"],
      "variant": "outlined"
    },
    "darkTheme": {
      "title": "Dark Theme Card",
      "subtitle": "Optimized for dark mode",
      "content": "This card uses dark theme styling with proper contrast and colors.",
      "theme": "dark",
      "variant": "elevated",
      "tags": ["Dark Mode", "Theme", "UI"]
    },
    "lightTheme": {
      "title": "Light Theme Card", 
      "subtitle": "Classic light styling",
      "content": "This card uses light theme styling for bright environments.",
      "theme": "light",
      "variant": "elevated",
      "tags": ["Light Mode", "Theme", "UI"]
    }
  }
}