        "attributes": { "class": "wb-card" },
        "children": [
          {
            "tag": "h3",
            "content": "{{title}}"
          },
          {
            "tag": "p",
            "content": "{{content}}"
          }
        ]
      }
    ]
  }
}</pre>
            </div>
            <div class="code-section">
                <h3>2. Create Component with Factory</h3>
                <pre>const card = await ComponentFactory.create('wb-card', {
  data: {
    title: 'My Card',
    content: 'Card content here'
  }
});</pre>
            </div>
            
            <div class="code-section">
                <h3>3. Component Renders Automatically</h3>
                <pre>// Component handles:
// - HTML generation from template
// - Style injection
// - Event binding
// - Data interpolation
// - State management</pre>
            </div>
        </div>
    </div>
    
    <!-- Load Component Factory -->
    <script src="..../../utils/component/component-factory.js"></script>
    
    <script>
        async function previewComponent() {
            if (!cardDefinition) return;
            // Get form values
            const data = {
                title: document.getElementById('title').value,
                subtitle: document.getElementById('subtitle').value,
                content: document.getElementById('content').value,
                image: document.getElementById('image').value,
                variant: document.getElementById('variant').value,
                tags: document.getElementById('tags').value
                    .split(',')
                    .map(tag => tag.trim())
                    .filter(tag => tag.length > 0)
            };
            if (!data.subtitle) delete data.subtitle;
            if (!data.image) delete data.image;
            if (data.tags.length === 0) delete data.tags;
            data.actions = [
                { actionId: 'view', actionLabel: 'View Details', actionVariant: 'primary' },
                { actionId: 'edit', actionLabel: 'Edit', actionVariant: 'secondary' }
            ];
            // Create preview card
            const component = await ComponentFactory.create('wb-card', { data, variant: data.variant });
            const preview = document.getElementById('preview-container');
            preview.innerHTML = '';
            preview.appendChild(component.element);
        }
        // Load the card definition
        let cardDefinition = null;
        
        async function initialize() {
            try {
                // Load the example schema
                const response = await fetch('..../../utils/component/data-driven-schema-example.json');
                cardDefinition = await response.json();
                ComponentFactory.register(cardDefinition);
                
                // Create initial example
                createComponent();
            } catch (error) {
                console.error('Failed to load component definition:', error);
            }
        }
        
        async function createComponent() {
            if (!cardDefinition) return;
            
            // Get form values
            const data = {
                title: document.getElementById('title').value,
                subtitle: document.getElementById('subtitle').value,
                content: document.getElementById('content').value,
                image: document.getElementById('image').value,
                variant: document.getElementById('variant').value,
                tags: document.getElementById('tags').value
                    .split(',')
                    .map(tag => tag.trim())
                    .filter(tag => tag.length > 0)
            };
            
            // Clear subtitle if empty
            if (!data.subtitle) delete data.subtitle;
            if (!data.image) delete data.image;
            if (data.tags.length === 0) delete data.tags;
            
            // Add some example actions
            data.actions = [
                {
                    actionId: 'view',
                    actionLabel: 'View Details',
                    actionVariant: 'primary'
                },
                {
                    actionId: 'edit',
                    actionLabel: 'Edit',
                    actionVariant: 'secondary'
                }
            ];
            
            // Create component
            const component = await ComponentFactory.create('wb-card', { data, variant: data.variant });
            
            // Clear container and add new component
            const container = document.getElementById('component-container');
            container.innerHTML = '';
            container.appendChild(component.element);
            
            // Listen for component events
            component.element.addEventListener('wbCardAction', (e) => {
                console.log('Card action:', e.detail);
                alert(`Action clicked: ${e.detail.actionId || 'unknown'}`);
            });
        }
        
        function loadExample(type) {
            const examples = {
                basic: {
                    title: 'Basic Card Example',
                    subtitle: '',
                    content: 'This is a simple card with just title and content. No image, no tags, just the essentials.',
                    image: '',
                    variant: 'elevated',
                    tags: ''
                },
                withImage: {
                    title: 'Beautiful Landscape',
                    subtitle: 'Photography Example',
                    content: 'This card demonstrates the image header feature. The image automatically maintains aspect ratio.',
                    image: 'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=320&h=180&fit=crop',
                    variant: 'elevated',
                    tags: 'Photography, Nature, Mountains'
                },
                withActions: {
                    title: 'Interactive Card',
                    subtitle: 'With Action Buttons',
                    content: 'This card variant includes hover effects and action buttons. Try hovering over it!',
                    image: '',
                    variant: 'interactive',
                    tags: 'Interactive, Buttons, UI'
                }
            };
            
            const example = examples[type];
            if (example) {
                Object.keys(example).forEach(key => {
                    document.getElementById(key).value = example[key];
                });
                createComponent();
            }
        }
        
        // Initialize on load
        initialize();
    </script>
</body>
</html>

