<!DOCTYPE html>
<html lang="en" data-theme="dark" data-mode="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WB Toggle Component Demo</title>
    
    <!-- Styles -->
    <link rel="stylesheet" href="../../styles/main.css">
    <link rel="stylesheet" href="wb-toggle.css">
    
    <!-- Components -->
    <script type="module" src="../wb-base/wb-base.js"></script>
    <script type="module" src="../wb-demo/wb-demo.js"></script>
    <script type="module" src="../wb-shadow-diagnostics/wb-shadow-diagnostics.js"></script>
    <script type="module" src="wb-toggle.js"></script>
</head>
<body>
    
    <wb-demo title="üîò WB Toggle Component" markdown="./wb-toggle.md">
        <div slot="examples">
            
            <!-- OVERVIEW -->
            <section class="demo-section">
                <h2>üìã Overview</h2>
                <p>A toggle switch component for boolean state management with multiple sizes and variants.</p>
                
                <div class="demo-render">
                    <div style="display: flex; align-items: center; gap: 1rem;">
                        <wb-toggle id="overview-toggle"></wb-toggle>
                        <span id="overview-status">OFF</span>
                    </div>
                </div>
                <div class="demo-code">
                    <div class="demo-code-label">HTML</div>
                    <pre>&lt;wb-toggle id="my-toggle"&gt;&lt;/wb-toggle&gt;</pre>
                </div>
            </section>

            <!-- SIZES -->
            <section class="demo-section">
                <h2>üìè Sizes</h2>
                <p>Available in small, medium (default), and large sizes.</p>
                
                <div class="demo-render">
                    <div class="toggle-row">
                        <div class="toggle-item">
                            <label>Small</label>
                            <wb-toggle size="small"></wb-toggle>
                        </div>
                        <div class="toggle-item">
                            <label>Medium (default)</label>
                            <wb-toggle size="medium"></wb-toggle>
                        </div>
                        <div class="toggle-item">
                            <label>Large</label>
                            <wb-toggle size="large"></wb-toggle>
                        </div>
                    </div>
                </div>
                <div class="demo-code">
                    <div class="demo-code-label">HTML</div>
                    <pre>&lt;wb-toggle size="small"&gt;&lt;/wb-toggle&gt;
&lt;wb-toggle size="medium"&gt;&lt;/wb-toggle&gt;
&lt;wb-toggle size="large"&gt;&lt;/wb-toggle&gt;</pre>
                </div>
            </section>

            <!-- STATES -->
            <section class="demo-section">
                <h2>‚úÖ States</h2>
                <p>Initial state and disabled states.</p>
                
                <div class="demo-render">
                    <div class="toggle-row">
                        <div class="toggle-item">
                            <label>Default (off)</label>
                            <wb-toggle></wb-toggle>
                        </div>
                        <div class="toggle-item">
                            <label>Initially on</label>
                            <wb-toggle checked></wb-toggle>
                        </div>
                        <div class="toggle-item">
                            <label>Disabled (off)</label>
                            <wb-toggle disabled></wb-toggle>
                        </div>
                        <div class="toggle-item">
                            <label>Disabled (on)</label>
                            <wb-toggle checked disabled></wb-toggle>
                        </div>
                    </div>
                </div>
                <div class="demo-code">
                    <div class="demo-code-label">HTML</div>
                    <pre>&lt;wb-toggle&gt;&lt;/wb-toggle&gt;
&lt;wb-toggle checked&gt;&lt;/wb-toggle&gt;
&lt;wb-toggle disabled&gt;&lt;/wb-toggle&gt;
&lt;wb-toggle checked disabled&gt;&lt;/wb-toggle&gt;</pre>
                </div>
            </section>

            <!-- WITH LABELS -->
            <section class="demo-section">
                <h2>üè∑Ô∏è With Labels</h2>
                <p>Toggle with built-in on/off labels.</p>
                
                <div class="demo-render">
                    <div class="toggle-row">
                        <div class="toggle-item">
                            <label>Show labels</label>
                            <wb-toggle label-on="ON" label-off="OFF"></wb-toggle>
                        </div>
                        <div class="toggle-item">
                            <label>Yes/No labels</label>
                            <wb-toggle label-on="Yes" label-off="No"></wb-toggle>
                        </div>
                        <div class="toggle-item">
                            <label>Icon labels</label>
                            <wb-toggle label-on="‚úì" label-off="‚úó"></wb-toggle>
                        </div>
                    </div>
                </div>
                <div class="demo-code">
                    <div class="demo-code-label">HTML</div>
                    <pre>&lt;wb-toggle label-on="ON" label-off="OFF"&gt;&lt;/wb-toggle&gt;
&lt;wb-toggle label-on="Yes" label-off="No"&gt;&lt;/wb-toggle&gt;
&lt;wb-toggle label-on="‚úì" label-off="‚úó"&gt;&lt;/wb-toggle&gt;</pre>
                </div>
            </section>

            <!-- PROGRAMMATIC CONTROL -->
            <section class="demo-section">
                <h2>‚ö° Programmatic Control</h2>
                <p>Control the toggle with JavaScript.</p>
                
                <div class="demo-render">
                    <div style="margin-bottom: 1rem; display: flex; gap: 0.5rem; flex-wrap: wrap;">
                        <button class="btn btn-primary" onclick="setToggleOn()">Turn On</button>
                        <button class="btn btn-secondary" onclick="setToggleOff()">Turn Off</button>
                        <button class="btn btn-secondary" onclick="toggleIt()">Toggle</button>
                        <button class="btn btn-secondary" onclick="getState()">Get State</button>
                    </div>
                    <div style="display: flex; align-items: center; gap: 1rem;">
                        <wb-toggle id="controlled-toggle"></wb-toggle>
                        <span id="controlled-status">OFF</span>
                    </div>
                </div>
                <div class="demo-code">
                    <div class="demo-code-label">JavaScript</div>
                    <pre>const toggle = document.getElementById('my-toggle');

// Turn on
toggle.checked = true;

// Turn off
toggle.checked = false;

// Toggle
toggle.toggle();

// Get state
const isOn = toggle.checked;

// Listen for changes
toggle.addEventListener('change', (e) => {
    console.log('Toggle is now:', e.detail.checked);
});</pre>
                </div>
            </section>

            <!-- FORM INTEGRATION -->
            <section class="demo-section">
                <h2>üìù Form Integration</h2>
                <p>Use toggles in forms with name and value attributes.</p>
                
                <div class="demo-render">
                    <form id="settings-form" onsubmit="handleFormSubmit(event)">
                        <div class="form-group">
                            <label>Notifications</label>
                            <wb-toggle name="notifications" value="enabled"></wb-toggle>
                        </div>
                        <div class="form-group">
                            <label>Dark Mode</label>
                            <wb-toggle name="darkMode" value="true" checked></wb-toggle>
                        </div>
                        <div class="form-group">
                            <label>Auto-save</label>
                            <wb-toggle name="autoSave" value="on"></wb-toggle>
                        </div>
                        <button type="submit" class="btn btn-primary">Submit Form</button>
                    </form>
                    <div id="form-output" class="form-output"></div>
                </div>
                <div class="demo-code">
                    <div class="demo-code-label">HTML</div>
                    <pre>&lt;form&gt;
    &lt;wb-toggle name="notifications" value="enabled"&gt;&lt;/wb-toggle&gt;
    &lt;wb-toggle name="darkMode" value="true" checked&gt;&lt;/wb-toggle&gt;
    &lt;wb-toggle name="autoSave" value="on"&gt;&lt;/wb-toggle&gt;
&lt;/form&gt;</pre>
                </div>
            </section>

            <!-- ATTRIBUTES -->
            <section class="demo-section">
                <h2>‚öôÔ∏è Attributes</h2>
                <table class="demo-table">
                    <thead>
                        <tr><th>Attribute</th><th>Type</th><th>Default</th><th>Description</th></tr>
                    </thead>
                    <tbody>
                        <tr><td><code>checked</code></td><td>boolean</td><td>false</td><td>Toggle state</td></tr>
                        <tr><td><code>disabled</code></td><td>boolean</td><td>false</td><td>Disable the toggle</td></tr>
                        <tr><td><code>size</code></td><td>small, medium, large</td><td>medium</td><td>Toggle size</td></tr>
                        <tr><td><code>name</code></td><td>string</td><td>-</td><td>Form field name</td></tr>
                        <tr><td><code>value</code></td><td>string</td><td>on</td><td>Value when checked</td></tr>
                        <tr><td><code>label-on</code></td><td>string</td><td>-</td><td>Label when on</td></tr>
                        <tr><td><code>label-off</code></td><td>string</td><td>-</td><td>Label when off</td></tr>
                    </tbody>
                </table>
            </section>

            <!-- EVENTS -->
            <section class="demo-section">
                <h2>üì° Events</h2>
                <table class="demo-table">
                    <thead>
                        <tr><th>Event</th><th>Detail</th><th>Description</th></tr>
                    </thead>
                    <tbody>
                        <tr><td><code>change</code></td><td>{ checked: boolean, value: string }</td><td>Fired when toggle state changes</td></tr>
                    </tbody>
                </table>
            </section>

        </div>
    </wb-demo>
    
    <!-- Shadow Diagnostics -->
    <wb-shadow-diagnostics></wb-shadow-diagnostics>

    <script>
        // Overview toggle
        const overviewToggle = document.getElementById('overview-toggle');
        if (overviewToggle) {
            overviewToggle.addEventListener('change', (e) => {
                document.getElementById('overview-status').textContent = e.detail.checked ? 'ON' : 'OFF';
            });
        }
        
        // Controlled toggle
        const controlledToggle = document.getElementById('controlled-toggle');
        if (controlledToggle) {
            controlledToggle.addEventListener('change', (e) => {
                document.getElementById('controlled-status').textContent = e.detail.checked ? 'ON' : 'OFF';
            });
        }
        
        function setToggleOn() {
            if (controlledToggle) controlledToggle.checked = true;
            document.getElementById('controlled-status').textContent = 'ON';
        }
        
        function setToggleOff() {
            if (controlledToggle) controlledToggle.checked = false;
            document.getElementById('controlled-status').textContent = 'OFF';
        }
        
        function toggleIt() {
            if (controlledToggle && controlledToggle.toggle) {
                controlledToggle.toggle();
            } else if (controlledToggle) {
                controlledToggle.checked = !controlledToggle.checked;
            }
            document.getElementById('controlled-status').textContent = controlledToggle?.checked ? 'ON' : 'OFF';
        }
        
        function getState() {
            alert(`Toggle is ${controlledToggle?.checked ? 'ON' : 'OFF'}`);
        }
        
        function handleFormSubmit(e) {
            e.preventDefault();
            const form = e.target;
            const data = {};
            form.querySelectorAll('wb-toggle').forEach(toggle => {
                const name = toggle.getAttribute('name');
                if (name) {
                    data[name] = toggle.checked ? toggle.getAttribute('value') || 'on' : null;
                }
            });
            document.getElementById('form-output').innerHTML = `<strong>Form Data:</strong><pre>${JSON.stringify(data, null, 2)}</pre>`;
        }
    </script>
    
    <style>
        .btn {
            padding: 0.5rem 1rem;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.875rem;
            transition: all 0.2s;
        }
        .btn-primary { background: linear-gradient(135deg, #6366f1, #8b5cf6); color: white; }
        .btn-secondary { background: rgba(255,255,255,0.1); color: var(--text-primary, #f8fafc); border: 1px solid rgba(255,255,255,0.2); }
        .btn:hover { transform: translateY(-1px); }
        
        .toggle-row {
            display: flex;
            gap: 2rem;
            flex-wrap: wrap;
            align-items: center;
        }
        
        .toggle-item {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
            align-items: center;
        }
        
        .toggle-item label {
            font-size: 0.875rem;
            color: var(--text-secondary, #94a3b8);
        }
        
        .form-group {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.75rem 0;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }
        
        .form-group label {
            font-weight: 500;
        }
        
        .form-output {
            margin-top: 1rem;
            padding: 1rem;
            background: rgba(0,0,0,0.2);
            border-radius: 8px;
            font-size: 0.875rem;
        }
        
        .form-output pre {
            margin: 0.5rem 0 0 0;
            color: var(--primary, #6366f1);
        }
        
        .demo-table {
            width: 100%;
            border-collapse: collapse;
            margin: 1rem 0;
        }
        .demo-table th, .demo-table td {
            padding: 0.75rem;
            text-align: left;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }
        .demo-table th { background: rgba(99, 102, 241, 0.1); font-weight: 600; }
        .demo-table code {
            background: rgba(0,0,0,0.3);
            padding: 0.125rem 0.375rem;
            border-radius: 4px;
            font-size: 0.875rem;
        }
    </style>
</body>
</html>
