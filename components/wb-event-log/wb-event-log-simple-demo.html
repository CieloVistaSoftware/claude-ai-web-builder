<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WB Event Log - Simple Demo</title>
    
    <!-- Foundation Styles -->
    <link rel="stylesheet" href="..../styles/main.css">
    
    <!-- Component files -->
    <link rel="stylesheet" href="wb-event-log.css">
    <script type="module" src="wb-event-log.js"></script>
    
    <style>
        /* Component-specific demo styles only */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: var(--space-xl);
        }
        
        .header {
            text-align: center;
            margin-bottom: var(--space-2xl);
            padding-bottom: var(--space-lg);
            border-bottom: 2px solid var(--border-color);
        }
        
        .header h1 {
            color: #4CAF50;
            margin-bottom: 0.5rem;
        }
        
        .demo-section {
            background: #2d2d2d;
            padding: 2rem;
            border-radius: 8px;
            margin-bottom: 2rem;
        }
        
        .demo-controls {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
            margin-bottom: 2rem;
        }
        
        .btn {
            padding: 0.5rem 1rem;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.2s;
        }
        
        .btn-info { background: #2196F3; color: white; }
        .btn-warning { background: #ff9800; color: white; }
        .btn-error { background: #f44336; color: white; }
        .btn-success { background: #4CAF50; color: white; }
        .btn-debug { background: #9C27B0; color: white; }
        .btn-user { background: #607D8B; color: white; }
        .btn-clear { background: #666; color: white; }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.3);
        }
        
        .event-log-container {
            background: #1a1a1a;
            border: 1px solid #333;
            border-radius: 4px;
            height: 400px;
            overflow: hidden;
        }
        
        .stats {
            display: flex;
            gap: 1rem;
            margin-top: 1rem;
        }
        
        .stat {
            background: #333;
            padding: 1rem;
            border-radius: 4px;
            text-align: center;
            flex: 1;
        }
        
        .stat-number {
            font-size: 1.5rem;
            font-weight: bold;
            color: #4CAF50;
        }
        
        .stat-label {
            font-size: 0.9rem;
            color: #888;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üîß WB Event Log - Simple Demo</h1>
            <p>Passive event-driven logging system for debugging</p>
        </div>
        
        <div class="demo-section">
            <h2>üéØ Event Generation</h2>
            <p>Click buttons to generate different types of events. The event log below will capture and display them automatically.</p>
            
            <div class="demo-controls">
                <button class="btn btn-info" onclick="generateInfoEvent()">üìù Info Event</button>
                <button class="btn btn-warning" onclick="generateWarningEvent()">‚ö†Ô∏è Warning Event</button>
                <button class="btn btn-error" onclick="generateErrorEvent()">‚ùå Error Event</button>
                <button class="btn btn-success" onclick="generateSuccessEvent()">‚úÖ Success Event</button>
                <button class="btn btn-debug" onclick="generateDebugEvent()">üêõ Debug Event</button>
                <button class="btn btn-user" onclick="generateUserEvent()">üë§ User Event</button>
            </div>
            
            <div class="demo-controls">
                <button class="btn btn-info" onclick="generateConsoleEvents()">üí¨ Console Messages</button>
                <button class="btn btn-error" onclick="generateJSError()">üí• JavaScript Error</button>
                <button class="btn btn-warning" onclick="generateBulkEvents(10)">Generate 10 Events</button>
                <button class="btn btn-clear" onclick="clearEvents()">üóëÔ∏è Clear Events</button>
            </div>
        </div>
        
        <div class="demo-section">
            <h2>üìä Live Event Log</h2>
            <div class="event-log-container">
                <wb-event-log id="mainEventLog"></wb-event-log>
            </div>
            <div class="stats">
                <div class="stat">
                    <div class="stat-number" id="totalEvents">0</div>
                    <div class="stat-label">Total Events</div>
                </div>
                <div class="stat">
                    <div class="stat-number" id="visibleEvents">0</div>
                    <div class="stat-label">Visible Events</div>
                </div>
                <div class="stat">
                    <div class="stat-number" id="errorCount">0</div>
                    <div class="stat-label">Errors</div>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        let eventCount = 0;
        let errorCount = 0;
        
        // Get event log instance
        const eventLog = document.getElementById('mainEventLog');
        
        // Event generation functions
        function generateInfoEvent() {
            document.dispatchEvent(new CustomEvent('wb:info', {
                detail: { 
                    message: `Info message #${++eventCount}`, 
                    source: 'demo',
                    timestamp: Date.now()
                }
            }));
            updateStats();
        }
        
        function generateWarningEvent() {
            const warnings = [
                'API response time exceeded threshold',
                'Deprecated function usage detected',
                'Memory usage approaching limit',
                'Cache miss rate high',
                'Network latency increased'
            ];
            document.dispatchEvent(new CustomEvent('wb:warning', {
                detail: { 
                    message: warnings[Math.floor(Math.random() * warnings.length)],
                    source: 'demo',
                    severity: 'medium'
                }
            }));
            updateStats();
        }
        
        function generateErrorEvent() {
            const errors = [
                'Failed to connect to database',
                'Authentication token expired',
                'File not found: config.json',
                'Network request timeout',
                'Invalid JSON response'
            ];
            document.dispatchEvent(new CustomEvent('wb:error', {
                detail: { 
                    message: errors[Math.floor(Math.random() * errors.length)],
                    source: 'demo',
                    severity: 'high',
                    stack: 'Error at demo.js:123'
                }
            }));
            errorCount++;
            updateStats();
        }
        
        function generateSuccessEvent() {
            const successes = [
                'User authentication successful',
                'Data saved to database',
                'File upload completed',
                'Cache refreshed successfully',
                'Settings updated'
            ];
            document.dispatchEvent(new CustomEvent('wb:success', {
                detail: { 
                    message: successes[Math.floor(Math.random() * successes.length)],
                    source: 'demo',
                    duration: Math.floor(Math.random() * 1000) + 'ms'
                }
            }));
            updateStats();
        }
        
        function generateDebugEvent() {
            const debugMessages = [
                'Component lifecycle: mounted',
                'State updated: { theme: "dark" }',
                'Event listener attached',
                'Cache hit for key: user_123',
                'Performance marker: render_complete'
            ];
            document.dispatchEvent(new CustomEvent('wb:debug', {
                detail: { 
                    message: debugMessages[Math.floor(Math.random() * debugMessages.length)],
                    source: 'demo',
                    level: 'verbose'
                }
            }));
            updateStats();
        }
        
        function generateUserEvent() {
            const userActions = [
                'Button clicked: Save Document',
                'Form submitted: User Registration',
                'Page navigated: /dashboard',
                'Modal opened: Settings',
                'File selected: image.png'
            ];
            document.dispatchEvent(new CustomEvent('wb:user', {
                detail: { 
                    message: userActions[Math.floor(Math.random() * userActions.length)],
                    source: 'demo',
                    userId: 'user_123',
                    sessionId: 'session_456'
                }
            }));
            updateStats();
        }
        
        function generateConsoleEvents() {
            console.log('This is a console.log message');
            console.warn('This is a console.warn message');  
            console.error('This is a console.error message');
            console.info('This is a console.info message');
            updateStats();
        }
        
        function generateJSError() {
            setTimeout(() => {
                throw new Error('Demo JavaScript error for testing');
            }, 100);
            updateStats();
        }
        
        function generateBulkEvents(count) {
            const eventTypes = ['info', 'warning', 'error', 'success', 'debug', 'user'];
            
            for (let i = 0; i < count; i++) {
                setTimeout(() => {
                    const type = eventTypes[Math.floor(Math.random() * eventTypes.length)];
                    switch (type) {
                        case 'info': generateInfoEvent(); break;
                        case 'warning': generateWarningEvent(); break;
                        case 'error': generateErrorEvent(); break;
                        case 'success': generateSuccessEvent(); break;
                        case 'debug': generateDebugEvent(); break;
                        case 'user': generateUserEvent(); break;
                    }
                }, i * 50); // Stagger events
            }
        }
        
        function clearEvents() {
            if (eventLog && eventLog.clearEvents) {
                eventLog.clearEvents();
            }
            eventCount = 0;
            errorCount = 0;
            updateStats();
        }
        
        // Statistics tracking
        function updateStats() {
            document.getElementById('totalEvents').textContent = eventCount;
            document.getElementById('visibleEvents').textContent = eventLog?.events?.length || 0;
            document.getElementById('errorCount').textContent = errorCount;
        }
        
        // Initialize with sample events
        setTimeout(() => {
            document.dispatchEvent(new CustomEvent('wb:info', {
                detail: { message: 'Event log demo initialized', source: 'demo-page' }
            }));
            document.dispatchEvent(new CustomEvent('wb:success', {
                detail: { message: 'Demo loaded successfully', source: 'demo-page' }
            }));
            updateStats();
        }, 500);
        
        // Update stats periodically
        setInterval(updateStats, 2000);
    </script>
</body>
</html>

