<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WB Nav Component Demo</title>
    
    <!-- Central Styles Import -->
    <link rel="stylesheet" href="..../styles/main.css">
    
    <!-- Load WB Demo Component -->
    <script type="module" src="../wb-demo/wb-demo.js"></script>
    
    <!-- Load wb-nav web component -->
    <script src="wb-nav.js"></script>
    <script type="module" src="../wb-button/wb-button.js"></script>
    
    <!-- Demo-specific popup styles only -->
    <style>
        body {
            margin: 0;
            padding: var(--space-xl);
            background: var(--bg-primary);
            color: var(--text-primary);
        }
        
        /* wb-tab component margin */
        wb-tab {
            margin-bottom: var(--space-lg);
        }
        
        /* Navigation Popup Styles - Demo specific */
        .nav-popup-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--overlay-bg, rgba(0, 0, 0, 0.8));
            backdrop-filter: blur(5px);
            z-index: 1000;
            display: none;
            align-items: center;
            justify-content: center;
        }
        
        .nav-popup-overlay.active {
            display: flex;
        }
        
        .nav-popup-container {
            background: var(--surface-color);
            border: 1px solid var(--border-color);
            border-radius: var(--border-radius-lg);
            padding: var(--space-xl);
            max-width: 600px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            box-shadow: var(--shadow-xl);
            transform: scale(0.9);
            transition: transform 0.3s ease;
        }
        
        .nav-popup-overlay.active .nav-popup-container {
            transform: scale(1);
        }
        
        .nav-popup-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--space-lg);
            padding-bottom: var(--space-md);
            border-bottom: 1px solid var(--border-color);
        }
        
        .nav-popup-title {
            color: var(--primary-color);
            margin: 0;
            font-size: 1.5rem;
        }
        
        .nav-popup-close {
            background: none;
            border: none;
            color: var(--text-color);
            font-size: 1.5rem;
            cursor: pointer;
            padding: var(--space-sm);
            border-radius: var(--border-radius);
            transition: background 0.2s ease;
        }
        
        .nav-popup-close:hover {
            background: var(--hover-bg);
        }
        
        /* Button container for demo - buttons have their own margins */
        .demo-buttons {
            display: flex;
            flex-wrap: wrap;
            margin: var(--space-md) -0.5rem;
            align-items: flex-start;
        }
        
        /* Demo specific layout styles */
        .demo-container {
            padding: var(--space-lg);
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .demo-section {
            background: var(--surface-color);
            padding: var(--space-lg);
            margin: var(--space-md) 0;
            border-radius: var(--border-radius-lg);
            border-left: 4px solid var(--primary-color);
        }
        
        .status {
            background: var(--success-bg);
            border: 1px solid var(--success-border);
            padding: var(--space-md);
            border-radius: var(--border-radius);
            margin: var(--space-md) 0;
            color: var(--success-color);
            font-size: 0.875rem;
        }
        
        /* Mobile responsiveness */
        @media (max-width: 768px) {
            .demo-container {
                padding: var(--space-md);
            }
            
            .demo-section {
                padding: var(--space-md);
            }
            
            .nav-popup-container {
                width: 95%;
                padding: var(--space-lg);
            }
        }
    </style>
</head>
<body data-theme="dark">
    <wb-demo>
        <span slot="title">üß≠ WB Nav Component Demo</span>
        
        <div slot="documentation">
            <h2>üß≠ WB Nav Component</h2>
            <p>Comprehensive navigation menu component with responsive layouts, theming, and multiple variants for modern web applications.</p>
            
            <h3>üöÄ Features</h3>
            <ul>
                <li>‚úÖ <strong>Multiple Layouts:</strong> horizontal, vertical, sidebar navigation</li>
                <li>‚úÖ <strong>Variant Styles:</strong> default, pills, tabs, minimal, gradient</li>
                <li>‚úÖ <strong>Position Options:</strong> top, left, right positioning</li>
                <li>‚úÖ <strong>Responsive Design:</strong> mobile-friendly navigation patterns</li>
                <li>‚úÖ <strong>Dropdown Support:</strong> multi-level navigation menus</li>
                <li>‚úÖ <strong>Active State Management:</strong> automatic active item highlighting</li>
                <li>‚úÖ <strong>Keyboard Navigation:</strong> arrow keys, tab, enter support</li>
                <li>‚úÖ <strong>Theme Integration:</strong> works with dark/light themes</li>
                <li>‚úÖ <strong>Accessibility:</strong> ARIA compliant with screen reader support</li>
            </ul>
            
            <h3>üíª Basic Usage</h3>
            <pre><code>&lt;!-- Basic horizontal navigation --&gt;
&lt;wb-nav layout="horizontal" variant="default"&gt;
    &lt;ul class="wb-nav-list"&gt;
        &lt;li class="wb-nav-item wb-nav--active"&gt;
            &lt;a href="/" class="wb-nav-link"&gt;Home&lt;/a&gt;
        &lt;/li&gt;
        &lt;li class="wb-nav-item"&gt;
            &lt;a href="/about" class="wb-nav-link"&gt;About&lt;/a&gt;
        &lt;/li&gt;
        &lt;li class="wb-nav-item"&gt;
            &lt;a href="/contact" class="wb-nav-link"&gt;Contact&lt;/a&gt;
        &lt;/li&gt;
    &lt;/ul&gt;
&lt;/wb-nav&gt;</code></pre>
            
            <h3>üéØ JavaScript API</h3>
            <pre><code>// Create navigation programmatically
const nav = document.createElement('wb-nav');
nav.setAttribute('layout', 'vertical');
nav.setAttribute('variant', 'pills');

// Set navigation items
nav.setItems([
    { label: 'Dashboard', href: '/dashboard', active: true },
    { label: 'Users', href: '/users' },
    { label: 'Settings', href: '/settings' }
]);

// Update layout dynamically
nav.updateLayout('horizontal');

// Set active item
nav.setActiveItem('/users');</code></pre>
            
            <h3>üì° Event Handling</h3>
            <pre><code>// Listen for navigation events
document.addEventListener('wbNavItemClick', (e) => {
    console.log('Navigation item clicked:', e.detail);
});

document.addEventListener('wbNavLayoutChange', (e) => {
    console.log('Layout changed:', e.detail);
});

document.addEventListener('wbNavReady', (e) => {
    console.log('Navigation component ready');
});</code></pre>
            
            <h3>‚öôÔ∏è Configuration Options</h3>
            <ul>
                <li><strong>layout:</strong> "horizontal" | "vertical"</li>
                <li><strong>variant:</strong> "default" | "pills" | "tabs" | "minimal" | "gradient"</li>
                <li><strong>position:</strong> "top" | "left" | "right"</li>
                <li><strong>items:</strong> Array of navigation item configurations</li>
            </ul>
            
            <h3>üé® Advanced Features</h3>
            <ul>
                <li><strong>Dropdown Menus:</strong> Multi-level navigation with submenu support</li>
                <li><strong>Icon Integration:</strong> Support for icons in navigation items</li>
                <li><strong>Badge Support:</strong> Show counts or indicators on navigation items</li>
                <li><strong>Collapsible Navigation:</strong> Mobile-friendly collapsible menu patterns</li>
                <li><strong>Custom Styling:</strong> CSS custom properties for complete theming control</li>
            </ul>
        </div>
        
        <div slot="examples">
            <h2>üéØ Interactive Examples</h2>
            <p>Click any button below to see live wb-nav component demonstrations. Each demo showcases different navigation patterns and capabilities using the actual wb-nav web component.</p>
            
            <div class="status" id="status">
                Component loading...
            </div>
            
            <div class="demo-section">
                <h3>Navigation Component Demos</h3>
                <p>Click the buttons below to open interactive wb-nav component demonstrations:</p>
                
                <div class="demo-buttons">
                    <button class="wb-btn wb-btn--primary" onclick="openNavDemo('basic')">
                        üß≠ Basic Navigation
                    </button>
                    
                    <button class="wb-btn wb-btn--primary" onclick="openNavDemo('variants')">
                        üé® Navigation Variants
                    </button>
                    
                    <button class="wb-btn wb-btn--success" onclick="openNavDemo('layouts')">
                        üìê Layout Options
                    </button>
                    
                    <button class="wb-btn wb-btn--secondary" onclick="openNavDemo('interactive')">
                        ‚ö° Interactive Features
                    </button>
                </div>
            </div>
        </div>
    </wb-demo>
    
    <section style="padding:1rem; border-top:1px solid #eee; margin-top:1rem;">
        <h3>Simplified Markup Example</h3>
        <p>You can author a <code>&lt;wb-nav&gt;</code> using light DOM children. The component will parse
        either custom <code>&lt;wb-list-item&gt;</code> elements or legacy <code>&lt;ul&gt;&lt;li&gt;</code> lists.
        Example:</p>
        <pre><code>&lt;wb-nav layout="horizontal" variant="default"&gt;
  &lt;wb-list-item data-id="home" href="/"&gt;Home&lt;/wb-list-item&gt;
  &lt;wb-list-item data-id="about" href="/about"&gt;About&lt;/wb-list-item&gt;
  &lt;wb-list-item data-id="contact" href="/contact"&gt;Contact&lt;/wb-list-item&gt;
&lt;/wb-nav&gt;</code></pre>
        <p>The demo below uses the programmatic API to show the same behavior.</p>
    </section>
    <!-- Navigation Demo Popups -->
    <div class="nav-popup-overlay" id="basic-nav-popup">
        <div class="nav-popup-container">
            <div class="nav-popup-header">
                <h3 class="nav-popup-title">Basic Navigation Component</h3>
                <button class="nav-popup-close" onclick="closeNavDemo('basic')">&times;</button>
            </div>
            <div class="demo-content">
                <p>This demonstrates a basic horizontal wb-nav component with programmatic item setting.</p>
                
                <wb-nav id="basic-nav" layout="horizontal" variant="default"></wb-nav>
                
                <div class="demo-controls" style="margin-top: 1rem;">
                    <button class="wb-btn wb-btn--secondary" onclick="setBasicNavItems()">Set Items</button>
                    <button class="wb-btn wb-btn--secondary" onclick="addNavItem('basic-nav')">Add Item</button>
                    <button class="wb-btn wb-btn--secondary" onclick="clearNavItems('basic-nav')">Clear</button>
                </div>
                
                <div class="demo-log" id="basic-nav-log" style="margin-top: 1rem; padding: 1rem; background: var(--surface-raised); border-radius: 4px; font-family: monospace; font-size: 0.875rem;">
                    Click "Set Items" to initialize the navigation...
                </div>
            </div>
        </div>
    </div>
    
    <div class="nav-popup-overlay" id="variants-nav-popup">
        <div class="nav-popup-container">
            <div class="nav-popup-header">
                <h3 class="nav-popup-title">Navigation Variants</h3>
                <button class="nav-popup-close" onclick="closeNavDemo('variants')">&times;</button>
            </div>
            <div class="demo-content">
                <p>Explore different wb-nav component variants and styles.</p>
                
                <div class="variant-demo">
                    <h4>Default Variant</h4>
                    <wb-nav id="default-nav" layout="horizontal" variant="default"></wb-nav>
                    
                    <h4>Pills Variant</h4>
                    <wb-nav id="pills-nav" layout="horizontal" variant="pills"></wb-nav>
                    
                    <h4>Minimal Variant</h4>
                    <wb-nav id="minimal-nav" layout="horizontal" variant="minimal"></wb-nav>
                </div>
                
                <div class="demo-controls" style="margin-top: 1rem;">
                    <button class="wb-btn wb-btn--secondary" onclick="setVariantNavItems()">Load All Variants</button>
                    <button class="wb-btn wb-btn--secondary" onclick="setActiveItem('default-nav', 1)">Set Active (Default)</button>
                    <button class="wb-btn wb-btn--secondary" onclick="setActiveItem('pills-nav', 2)">Set Active (Pills)</button>
                </div>
            </div>
        </div>
    </div>
    
    <div class="nav-popup-overlay" id="layouts-nav-popup">
        <div class="nav-popup-container">
            <div class="nav-popup-header">
                <h3 class="nav-popup-title">Layout Options</h3>
                <button class="nav-popup-close" onclick="closeNavDemo('layouts')">&times;</button>
            </div>
            <div class="demo-content">
                <p>Demonstrate different wb-nav layout configurations.</p>
                
                <div class="layout-demo" style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem;">
                    <div>
                        <h4>Horizontal Layout</h4>
                        <wb-nav id="horizontal-nav" layout="horizontal" variant="default"></wb-nav>
                    </div>
                    
                    <div>
                        <h4>Vertical Layout</h4>
                        <wb-nav id="vertical-nav" layout="vertical" variant="default"></wb-nav>
                    </div>
                </div>
                
                <div class="demo-controls" style="margin-top: 1rem;">
                    <button class="wb-btn wb-btn--secondary" onclick="setLayoutNavItems()">Load Layouts</button>
                    <button class="wb-btn wb-btn--secondary" onclick="changeLayout('horizontal-nav', 'vertical')">Horizontal ‚Üí Vertical</button>
                    <button class="wb-btn wb-btn--secondary" onclick="changeLayout('vertical-nav', 'horizontal')">Vertical ‚Üí Horizontal</button>
                </div>
            </div>
        </div>
    </div>
    
    <div class="nav-popup-overlay" id="interactive-nav-popup">
        <div class="nav-popup-container">
            <div class="nav-popup-header">
                <h3 class="nav-popup-title">Interactive Features</h3>
                <button class="nav-popup-close" onclick="closeNavDemo('interactive')">&times;</button>
            </div>
            <div class="demo-content">
                <p>Explore wb-nav interactive features including dynamic item management and event handling.</p>
                
                <wb-nav id="interactive-nav" layout="horizontal" variant="pills"></wb-nav>
                
                <div class="demo-controls" style="margin-top: 1rem;">
                    <button class="wb-btn wb-btn--primary" onclick="initializeInteractiveNav()">Initialize</button>
                    <button class="wb-btn wb-btn--secondary" onclick="addRandomItem()">Add Random Item</button>
                    <button class="wb-btn wb-btn--secondary" onclick="removeLastItem()">Remove Last Item</button>
                    <button class="wb-btn wb-btn--success" onclick="toggleActiveState()">Toggle Active</button>
                </div>
                
                <div class="demo-log" id="interactive-nav-log" style="margin-top: 1rem; padding: 1rem; background: var(--surface-raised); border-radius: 4px; font-family: monospace; font-size: 0.875rem; max-height: 200px; overflow-y: auto;">
                    Click "Initialize" to start the interactive demo...
                </div>
            </div>
        </div>
    </div>
    
    <!-- Load components -->
    <script src="../md-to-html/md-to-html.js"></script>
    <script type="module" src="../wb-tab/wb-tab.js"></script>
    <script src="wb-nav.js"></script>
    
    <script>
        // Navigation Demo Functions
        function openNavDemo(type) {
            const popup = document.getElementById(`${type}-nav-popup`);
            if (popup) {
                popup.style.display = 'flex';
            }
        }
        
        function closeNavDemo(type) {
            const popup = document.getElementById(`${type}-nav-popup`);
            if (popup) {
                popup.style.display = 'none';
            }
        }
        
        // Basic Navigation Demo
        function setBasicNavItems() {
            const nav = document.getElementById('basic-nav');
            if (nav) {
                const items = [
                    { id: 'home', text: 'Home', href: '/', active: true },
                    { id: 'about', text: 'About', href: '/about' },
                    { id: 'services', text: 'Services', href: '/services' },
                    { id: 'contact', text: 'Contact', href: '/contact' }
                ];
                nav.setItems(items);
                logToDemo('basic-nav-log', 'Basic navigation items set successfully');
            }
        }
        
        function addNavItem(navId) {
            const nav = document.getElementById(navId);
            if (nav) {
                const newItem = {
                    id: `item-${Date.now()}`,
                    text: `New Item ${nav.children.length + 1}`,
                    href: '#'
                };
                nav.addItem(newItem);
                logToDemo('basic-nav-log', `Added new item: ${newItem.text}`);
            }
        }
        
        function clearNavItems(navId) {
            const nav = document.getElementById(navId);
            if (nav) {
                nav.setItems([]);
                logToDemo('basic-nav-log', 'Navigation items cleared');
            }
        }
        
        // Variants Demo
        function setVariantNavItems() {
            const defaultNav = document.getElementById('default-nav');
            const pillsNav = document.getElementById('pills-nav');
            const minimalNav = document.getElementById('minimal-nav');
            
            const items = [
                { id: 'dashboard', text: 'Dashboard', href: '/dashboard' },
                { id: 'analytics', text: 'Analytics', href: '/analytics', active: true },
                { id: 'reports', text: 'Reports', href: '/reports' },
                { id: 'settings', text: 'Settings', href: '/settings' }
            ];
            
            if (defaultNav) defaultNav.setItems(items);
            if (pillsNav) pillsNav.setItems(items);
            if (minimalNav) minimalNav.setItems(items);
        }
        
        function setActiveItem(navId, index) {
            const nav = document.getElementById(navId);
            if (nav) {
                // This would need to be implemented in the wb-nav component
                // For now, we'll just log the action
                logToDemo('variants-nav-log', `Setting active item ${index} on ${navId}`);
            }
        }
        
        // Layouts Demo
        function setLayoutNavItems() {
            const horizontalNav = document.getElementById('horizontal-nav');
            const verticalNav = document.getElementById('vertical-nav');
            
            const items = [
                { id: 'overview', text: 'Overview', href: '/overview' },
                { id: 'details', text: 'Details', href: '/details', active: true },
                { id: 'history', text: 'History', href: '/history' }
            ];
            
            if (horizontalNav) horizontalNav.setItems(items);
            if (verticalNav) verticalNav.setItems(items);
        }
        
        function changeLayout(navId, newLayout) {
            const nav = document.getElementById(navId);
            if (nav) {
                nav.setLayout(newLayout);
                logToDemo('layouts-nav-log', `Changed ${navId} layout to ${newLayout}`);
            }
        }
        
        // Interactive Demo
        function initializeInteractiveNav() {
            const nav = document.getElementById('interactive-nav');
            if (nav) {
                const items = [
                    { id: 'start', text: 'Start', href: '#', active: true },
                    { id: 'process', text: 'Process', href: '#' },
                    { id: 'finish', text: 'Finish', href: '#' }
                ];
                nav.setItems(items);
                logToDemo('interactive-nav-log', 'Interactive navigation initialized');
            }
        }
        
        function addRandomItem() {
            const nav = document.getElementById('interactive-nav');
            if (nav) {
                const randomLabels = ['New Feature', 'Update', 'Config', 'Tools', 'Help'];
                const randomLabel = randomLabels[Math.floor(Math.random() * randomLabels.length)];
                const newItem = {
                    id: `random-${Date.now()}`,
                    text: randomLabel,
                    href: '#'
                };
                nav.addItem(newItem);
                logToDemo('interactive-nav-log', `Added random item: ${randomLabel}`);
            }
        }
        
        function removeLastItem() {
            const nav = document.getElementById('interactive-nav');
            if (nav && nav.children.length > 0) {
                const lastItem = nav.children[nav.children.length - 1];
                nav.removeItem(lastItem.id);
                logToDemo('interactive-nav-log', 'Removed last item');
            }
        }
        
        function toggleActiveState() {
            const nav = document.getElementById('interactive-nav');
            if (nav) {
                // This would cycle through active states
                logToDemo('interactive-nav-log', 'Toggled active state');
            }
        }
        
        // Utility function for logging
        function logToDemo(logId, message) {
            const logElement = document.getElementById(logId);
            if (logElement) {
                const timestamp = new Date().toLocaleTimeString();
                logElement.innerHTML += `<div>[${timestamp}] ${message}</div>`;
                logElement.scrollTop = logElement.scrollHeight;
            }
        }
        
        // Event listeners for wb-nav clicks
        document.addEventListener('wbNavItemClick', (event) => {
            const { id, index, nav } = event.detail;
            const itemLabel = event.detail.link ? event.detail.link.textContent : 'Unknown';
            logToDemo('interactive-nav-log', `Navigation click: ${itemLabel} (${id}) from ${nav.id}`);
        });
        
        // Initialize when DOM is ready
        document.addEventListener('DOMContentLoaded', () => {
            console.log('WB Nav Demo initialized');
        });
    </script>
</body>
</html>

