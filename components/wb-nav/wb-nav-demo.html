<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WB Nav Component Demo</title>
    
    <!-- Central Styles Import -->
    <!-- Website Builder Main Styles (Variables, Base, Utilities) -->
    <link rel="stylesheet" href="../../styles/main.css">    <!-- Load component CSS -->
    <link rel="stylesheet" href="wb-nav.css">
    <link rel="stylesheet" href="../wb-button/wb-button.css">
    
    <!-- Demo-specific popup styles only -->
    <style>
        body {
            margin: 0;
            padding: var(--space-xl);
            background: var(--bg-primary);
            color: var(--text-primary);
        }
        
        /* Tab Styles */
        .tabs {
            display: flex;
            gap: var(--space-sm);
            margin-bottom: var(--space-lg);
            border-bottom: 2px solid var(--border-color);
        }
        
        .tab {
            padding: var(--space-sm) var(--space-lg);
            background: none;
            border: none;
            border-bottom: 3px solid transparent;
            color: var(--text-secondary);
            font-size: 1rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .tab:hover {
            color: var(--text-primary);
            background: var(--bg-secondary);
        }
        
        .tab.active {
            color: var(--primary);
            border-bottom-color: var(--primary);
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        /* Navigation Popup Styles - Demo specific */
        .nav-popup-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--overlay-bg, rgba(0, 0, 0, 0.8));
            backdrop-filter: blur(5px);
            z-index: 1000;
            display: none;
            align-items: center;
            justify-content: center;
        }
        
        .nav-popup-overlay.active {
            display: flex;
        }
        
        .nav-popup-container {
            background: var(--surface-color);
            border: 1px solid var(--border-color);
            border-radius: var(--border-radius-lg);
            padding: var(--space-xl);
            max-width: 600px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            box-shadow: var(--shadow-xl);
            transform: scale(0.9);
            transition: transform 0.3s ease;
        }
        
        .nav-popup-overlay.active .nav-popup-container {
            transform: scale(1);
        }
        
        .nav-popup-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--space-lg);
            padding-bottom: var(--space-md);
            border-bottom: 1px solid var(--border-color);
        }
        
        .nav-popup-title {
            color: var(--primary-color);
            margin: 0;
            font-size: 1.5rem;
        }
        
        .nav-popup-close {
            background: none;
            border: none;
            color: var(--text-color);
            font-size: 1.5rem;
            cursor: pointer;
            padding: var(--space-sm);
            border-radius: var(--border-radius);
            transition: background 0.2s ease;
        }
        
        .nav-popup-close:hover {
            background: var(--hover-bg);
        }
        
        /* Button container for demo - buttons have their own margins */
        .demo-buttons {
            display: flex;
            flex-wrap: wrap;
            margin: var(--space-md) -0.5rem;
            align-items: flex-start;
        }
        
        /* Demo specific layout styles */
        .demo-container {
            padding: var(--space-lg);
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .demo-section {
            background: var(--surface-color);
            padding: var(--space-lg);
            margin: var(--space-md) 0;
            border-radius: var(--border-radius-lg);
            border-left: 4px solid var(--primary-color);
        }
        
        .status {
            background: var(--success-bg);
            border: 1px solid var(--success-border);
            padding: var(--space-md);
            border-radius: var(--border-radius);
            margin: var(--space-md) 0;
            color: var(--success-color);
            font-size: 0.875rem;
        }
        
        /* Mobile responsiveness */
        @media (max-width: 768px) {
            .demo-container {
                padding: var(--space-md);
            }
            
            .demo-section {
                padding: var(--space-md);
            }
            
            .nav-popup-container {
                width: 95%;
                padding: var(--space-lg);
            }
        }
    </style>
</head>
<body data-theme="dark">
    <div class="demo-container">
        <h1>WB Nav Menu Component Demo</h1>
        <p>Comprehensive navigation menu component with responsive layouts and theming.</p>
        
        <div class="status" id="status">
            Component loading...
        </div>
        
        <!-- Tab Navigation -->
        <div id="tabs-container" class="tabs">
            <button id="documentation-tab-button" class="tab active" onclick="showTab('documentation')">üìö Documentation</button>
            <button id="examples-tab-button" class="tab" onclick="showTab('examples')">üéÆ Examples</button>
        </div>
        
        <!-- Documentation Tab -->
        <div id="documentation-tab" class="tab-content active">
            <div class="demo-section">
                <h2>üìñ Component Documentation</h2>
                <md-to-html theme="dark" src="./wb-nav.md"></md-to-html>
            </div>
        </div>
        
        <!-- Examples Tab -->
        <div id="examples-tab" class="tab-content">
        
        <div class="demo-section">
            <h3>Navigation Menu Popups</h3>
            <p>Click the buttons below to open navigation menus in popup overlays:</p>
            
            <div class="demo-buttons">
                <button class="wb-btn wb-btn--primary" onclick="openNavPopup('basic')">
                    üß≠ Basic
                </button>
                
                <button class="wb-btn wb-btn--primary" onclick="openNavPopup('dropdown')">
                    üìÇ Drops
                </button>
                
                <button class="wb-btn wb-btn--success" onclick="openNavPopup('admin')">
                    ‚öôÔ∏è Admin
                </button>
            </div>
        </div>
        
        </div> <!-- Close examples tab -->
    </div>
    
    <!-- Navigation Popup Overlays -->
    <div class="nav-popup-overlay" id="basic-nav-popup">
        <div class="nav-popup-container">
            <div class="nav-popup-header">
                <h3 class="nav-popup-title">Basic Navigation</h3>
                <button class="nav-popup-close" onclick="closeNavPopup('basic')">&times;</button>
            </div>
            <nav class="wb-nav wb-nav--vertical" id="basic-nav">
                <ul class="wb-nav-list">
                    <li class="wb-nav-item wb-nav--active">
                        <a href="/" class="wb-nav-link">Home</a>
                    </li>
                    <li class="wb-nav-item">
                        <a href="/about" class="wb-nav-link">About</a>
                    </li>
                    <li class="wb-nav-item">
                        <a href="/services" class="wb-nav-link">Services</a>
                    </li>
                    <li class="wb-nav-item">
                        <a href="/contact" class="wb-nav-link">Contact</a>
                    </li>
                </ul>
            </nav>
        </div>
    </div>
    
    <div class="nav-popup-overlay" id="dropdown-nav-popup">
        <div class="nav-popup-container">
            <div class="nav-popup-header">
                <h3 class="nav-popup-title">Navigation with Dropdowns</h3>
                <button class="nav-popup-close" onclick="closeNavPopup('dropdown')">&times;</button>
            </div>
            <nav class="wb-nav wb-nav--vertical" id="dropdown-nav">
                <ul class="wb-nav-list">
                    <li class="wb-nav-item">
                        <a href="/" class="wb-nav-link">Home</a>
                    </li>
                    <li class="wb-nav-item wb-nav-dropdown">
                        <a href="#" class="wb-nav-link">Products</a>
                        <ul class="wb-nav-submenu">
                            <li class="wb-nav-item">
                                <a href="/products/web" class="wb-nav-link">Web Components</a>
                            </li>
                            <li class="wb-nav-item">
                                <a href="/products/mobile" class="wb-nav-link">Mobile Apps</a>
                            </li>
                            <li class="wb-nav-item">
                                <a href="/products/desktop" class="wb-nav-link">Desktop Tools</a>
                            </li>
                        </ul>
                    </li>
                    <li class="wb-nav-item">
                        <a href="/pricing" class="wb-nav-link">Pricing</a>
                    </li>
                    <li class="wb-nav-item">
                        <a href="/support" class="wb-nav-link">Support</a>
                    </li>
                </ul>
            </nav>
        </div>
    </div>
    
    <div class="nav-popup-overlay" id="admin-nav-popup">
        <div class="nav-popup-container">
            <div class="nav-popup-header">
                <h3 class="nav-popup-title">Admin Navigation</h3>
                <button class="nav-popup-close" onclick="closeNavPopup('admin')">&times;</button>
            </div>
            <nav class="wb-nav wb-nav--vertical" id="admin-nav">
                <ul class="wb-nav-list">
                    <li class="wb-nav-item">
                        <a href="/dashboard" class="wb-nav-link">üìä Dashboard</a>
                    </li>
                    <li class="wb-nav-item wb-nav-dropdown">
                        <a href="#" class="wb-nav-link">üìù Content</a>
                        <ul class="wb-nav-submenu">
                            <li class="wb-nav-item">
                                <a href="/posts" class="wb-nav-link">Posts</a>
                            </li>
                            <li class="wb-nav-item">
                                <a href="/pages" class="wb-nav-link">Pages</a>
                            </li>
                            <li class="wb-nav-item">
                                <a href="/media" class="wb-nav-link">Media</a>
                            </li>
                        </ul>
                    </li>
                    <li class="wb-nav-item">
                        <a href="/users" class="wb-nav-link">üë• Users</a>
                    </li>
                    <li class="wb-nav-item">
                        <a href="/settings" class="wb-nav-link">‚öôÔ∏è Settings</a>
                    </li>
                </ul>
            </nav>
        </div>
    </div>
    
    <!-- Load components -->
    <script src="../md-to-html/md-to-html.js"></script>
    <script src="wb-nav.js"></script>
    
    <script>
        // Component event handlers
        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('status').textContent = '‚úÖ WB Nav Menu Component loaded successfully!';
            initializeNavigation();
        });
        
        function initializeNavigation() {
            // Add click handlers to navigation links
            document.querySelectorAll('.wb-nav-link').forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const label = this.textContent.trim();
                    console.log('Navigation clicked:', label);
                    updateStatus(`Navigation: ${label} clicked`);
                    
                    // Update active state within the same popup
                    const popup = this.closest('.nav-popup-overlay');
                    if (popup) {
                        popup.querySelectorAll('.wb-nav-item').forEach(item => {
                            item.classList.remove('wb-nav--active');
                        });
                        this.closest('.wb-nav-item').classList.add('wb-nav--active');
                    }
                });
            });
            
            // Add dropdown hover effects
            document.querySelectorAll('.wb-nav-dropdown').forEach(dropdown => {
                dropdown.addEventListener('mouseenter', function() {
                    this.classList.add('wb-nav--expanded');
                });
                dropdown.addEventListener('mouseleave', function() {
                    this.classList.remove('wb-nav--expanded');
                });
            });
        }
        
        function updateStatus(message) {
            const timestamp = new Date().toLocaleTimeString();
            console.log(`[${timestamp}] ${message}`);
        }
        
        // Popup functions
        function openNavPopup(type) {
            const popup = document.getElementById(type + '-nav-popup');
            if (popup) {
                popup.classList.add('active');
                document.body.style.overflow = 'hidden'; // Prevent background scroll
            }
        }
        
        function closeNavPopup(type) {
            const popup = document.getElementById(type + '-nav-popup');
            if (popup) {
                popup.classList.remove('active');
                document.body.style.overflow = ''; // Restore scroll
            }
        }
        
        // Close popup when clicking overlay
        document.querySelectorAll('.nav-popup-overlay').forEach(overlay => {
            overlay.addEventListener('click', function(e) {
                if (e.target === this) {
                    this.classList.remove('active');
                    document.body.style.overflow = '';
                }
            });
        });
        
        // Close popup with Escape key
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                document.querySelectorAll('.nav-popup-overlay.active').forEach(popup => {
                    popup.classList.remove('active');
                    document.body.style.overflow = '';
                });
            }
        });
        
        // Tab switching functionality
        function showTab(tabName) {
            // Hide all tabs
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.remove('active');
            });
            
            // Remove active class from all tab buttons
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Show selected tab
            document.getElementById(tabName + '-tab').classList.add('active');
            
            // Mark the correct tab button as active
            event.target.classList.add('active');
        }
    </script>
</body>
</html>