
<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WB Event Log Schema Viewer - Professional Edition</title>
    
    <!-- Foundation Styles -->
    <link rel="stylesheet" href="../../styles/main.css">
    
    <!-- Component Styles -->
    <link rel="stylesheet" href="wb-event-log.css">
    
    <style>
        /* Inline styles to avoid dependency issues */
        .wb-btn {
            background: var(--primary);
            color: var(--bg-primary);
            border: none;
            padding: var(--space-md) var(--space-lg);
            border-radius: var(--radius-md);
            cursor: pointer;
            font-weight: var(--font-medium);
            transition: var(--transition-all);
            margin: var(--space-xs);
        }
        .wb-btn:hover { transform: translateY(-2px); box-shadow: var(--shadow-lg); }
        .wb-btn.secondary { background: var(--bg-tertiary); color: var(--text-primary); }
        .wb-btn.warning { background: var(--warning-color); }
        .wb-btn.danger { background: var(--error-color); }
        .wb-btn.success { background: var(--success-color); }
        
        .wb-card { 
            background: var(--bg-secondary); 
            border-radius: var(--radius-xl); 
            padding: var(--space-xl);
            border: 1px solid var(--border-color);
            box-shadow: var(--shadow-lg);
        }
        
        .tab-nav {
            display: flex;
            flex-wrap: wrap;
            gap: var(--space-sm);
            margin-bottom: var(--space-xl);
            border-bottom: 2px solid var(--border-color);
            padding-bottom: var(--space-md);
        }
        
        .tab-btn {
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            padding: var(--space-md) var(--space-lg);
            border-radius: var(--radius-md) var(--radius-md) 0 0;
            cursor: pointer;
            transition: var(--transition-all);
            font-weight: var(--font-medium);
        }
        
        .tab-btn.active {
            background: var(--primary);
            color: var(--bg-primary);
            border-bottom-color: var(--primary);
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
            animation: fadeInUp 0.6s ease forwards;
        }
        
        .dynamic-controls {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: var(--space-lg);
            margin: var(--space-xl) 0;
        }
        
        .control-item {
            background: var(--bg-primary);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-lg);
            padding: var(--space-lg);
            transition: var(--transition-all);
        }
        
        .control-item:hover {
            border-color: var(--primary);
            box-shadow: var(--shadow-md);
        }
        
        .control-label {
            display: block;
            font-weight: var(--font-semibold);
            color: var(--primary);
            margin-bottom: var(--space-sm);
            font-size: var(--text-sm);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .control-description {
            font-size: var(--text-xs);
            color: var(--text-secondary);
            margin-bottom: var(--space-md);
            line-height: var(--leading-normal);
        }
        
        .control-input, .control-select {
            width: 100%;
            padding: var(--space-md);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-md);
            background: var(--bg-secondary);
            color: var(--text-primary);
            font-family: var(--font-mono);
            font-size: var(--text-sm);
        }
        
        .control-input:focus, .control-select:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: var(--focus-ring);
        }
        
        .control-checkbox {
            width: auto;
            margin-right: var(--space-sm);
            transform: scale(1.2);
        }
        
        .generated-preview {
            background: var(--bg-primary);
            border: 2px solid var(--primary);
            border-radius: var(--radius-xl);
            padding: var(--space-xl);
            margin: var(--space-xl) 0;
            min-height: 400px;
        }
        
        .schema-generated-notice {
            background: linear-gradient(135deg, rgba(255, 165, 0, 0.1) 0%, rgba(255, 165, 0, 0.05) 100%);
            border: 2px solid var(--accent);
            border-radius: var(--radius-lg);
            padding: var(--space-lg);
            margin-bottom: var(--space-xl);
            text-align: center;
        }
        
        .schema-generated-notice h3 {
            color: var(--accent);
            font-size: var(--text-lg);
            font-weight: var(--font-bold);
            margin-bottom: var(--space-sm);
        }
        
        .config-output {
            background: var(--neutral-900);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-lg);
            padding: var(--space-lg);
            font-family: var(--font-mono);
            font-size: var(--text-sm);
            white-space: pre-wrap;
            overflow-x: auto;
            max-height: 300px;
            overflow-y: auto;
            margin: var(--space-lg) 0;
        }
    </style>
</head>

<body>
    <div class="demo-container fade-in-up">
        <!-- Header -->
        <header class="demo-header">
            <h1 class="demo-title">üîß WB Event Log Schema Viewer</h1>
            <p class="demo-subtitle">
                Professional schema documentation and dynamic control generator for the wb-event-log component. 
                Features live schema-based UI generation, real-time configuration, and comprehensive validation.
            </p>
        </header>

        <!-- Tab Navigation -->
        <div class="tab-nav">
            <button class="tab-btn active" data-tab="schema">üìã Schema</button>
            <button class="tab-btn" data-tab="generator">üéõÔ∏è Dynamic Control</button>
            <button class="tab-btn" data-tab="examples">üìù Examples</button>
            <button class="tab-btn" data-tab="validator">‚úÖ Validator</button>
            <button class="tab-btn" data-tab="viewer">üî¥ Live Viewer</button>
            <button class="tab-btn" data-tab="docs">üìö Documentation</button>
        </div>

        <!-- Schema Tab -->
        <div class="tab-content active" data-tab="schema">
            <div class="wb-card">
                <h2 class="section-title">üìã Schema Structure</h2>
                <p class="section-description">
                    Comprehensive JSON schema defining the complete configuration structure for the wb-event-log component.
                </p>
                
                <!-- Statistics -->
                <div class="stats-grid">
                    <div class="stat-card">
                        <span class="stat-value" id="totalProperties">0</span>
                        <span class="stat-label">Properties</span>
                    </div>
                    <div class="stat-card">
                        <span class="stat-value" id="enumCount">0</span>
                        <span class="stat-label">Enums</span>
                    </div>
                    <div class="stat-card">
                        <span class="stat-value" id="defaultCount">0</span>
                        <span class="stat-label">Defaults</span>
                    </div>
                    <div class="stat-card">
                        <span class="stat-value" id="booleanCount">0</span>
                        <span class="stat-label">Booleans</span>
                    </div>
                </div>

                <!-- Search -->
                <input type="text" class="search-input" id="schemaSearch" placeholder="Search schema properties...">
                
                <!-- Schema Display -->
                <div class="schema-tree" id="schemaTree">
                    <div class="loading">Loading schema structure...</div>
                </div>
            </div>
        </div>

        <!-- Dynamic Control Generator Tab -->
        <div class="tab-content" data-tab="generator">
            <div class="wb-card">
                <h2 class="section-title">üéõÔ∏è Dynamic Schema-Based Control Generator</h2>
                
                <div class="schema-generated-notice">
                    <h3>üöÄ Schema-Driven Interface</h3>
                    <p><strong>This control panel is dynamically generated from the actual wb-event-log JSON schema!</strong><br>
                    Each property becomes an interactive control, demonstrating real-time schema-driven UI generation. 
                    This is a powerful example of how schemas can drive user interfaces automatically.</p>
                </div>
                
                <!-- Schema-Generated Controls -->
                <div id="dynamicControls" class="dynamic-controls">
                    <div class="loading">Generating controls from schema...</div>
                </div>
                
                <!-- Live Preview -->
                <div class="control-group">
                    <h3>üî¥ Live Preview (Schema-Generated Configuration)</h3>
                    <p>This wb-event-log component is configured using the dynamically generated controls above:</p>
                    <div class="generated-preview">
                        <wb-event-log 
                            id="dynamicEventLog"
                            max-events="50"
                            auto-scroll="true"
                            show-timestamps="true"
                            show-source="true"
                            expandable-details="true"
                            toolbar="true"
                            search="true"
                            filters="true"
                            export="true">
                        </wb-event-log>
                    </div>
                </div>
                
                <!-- Generated JSON Output -->
                <div class="control-group">
                    <h3>üìã Generated JSON Configuration</h3>
                    <div class="config-output" id="generatedConfig">{}</div>
                    <button class="wb-btn secondary" onclick="copyGeneratedConfig()">üìã Copy Configuration</button>
                    <button class="wb-btn" onclick="applyDynamicConfig()">üîÑ Apply to Preview</button>
                </div>
            </div>
        </div>

        <!-- Examples Tab -->
        <div class="tab-content" data-tab="examples">
            <div class="wb-card">
                <h2 class="section-title">üìù Configuration Examples</h2>
                <p class="section-description">
                    Production-ready configuration examples demonstrating common usage patterns.
                </p>
                
                <div class="doc-section">
                    <h3>Basic Configuration</h3>
                    <button class="wb-btn secondary" onclick="copyExample('basic')">üìã Copy</button>
                    <div class="json-viewer" id="basicExample">Loading...</div>
                </div>

                <div class="doc-section">
                    <h3>Advanced Configuration</h3>
                    <button class="wb-btn secondary" onclick="copyExample('advanced')">üìã Copy</button>
                    <div class="json-viewer" id="advancedExample">Loading...</div>
                </div>
            </div>
        </div>

        <!-- Validator Tab -->
        <div class="tab-content" data-tab="validator">
            <div class="wb-card">
                <h2 class="section-title">‚úÖ JSON Configuration Validator</h2>
                <p class="section-description">
                    Validate your wb-event-log component configurations against the official schema.
                </p>

                <div class="control-group">
                    <label class="control-label" for="jsonInput">JSON Configuration</label>
                    <textarea id="jsonInput" class="validator-textarea" placeholder="Paste your JSON configuration here..."></textarea>
                </div>

                <div class="action-buttons">
                    <button class="wb-btn" onclick="validateJSON()">‚úÖ Validate</button>
                    <button class="wb-btn secondary" onclick="clearValidator()">üóëÔ∏è Clear</button>
                    <button class="wb-btn secondary" onclick="loadSample()">üìÑ Load Sample</button>
                </div>

                <div id="validationResult" class="validation-result" style="display: none;"></div>
            </div>
        </div>

        <!-- Live Viewer Tab -->
        <div class="tab-content" data-tab="viewer">
            <div class="wb-card">
                <h2 class="section-title">üî¥ Live Event Viewer</h2>
                <p class="section-description">
                    Interactive demonstration showcasing the wb-event-log component with real-time event generation.
                </p>

                <!-- Event Generation Controls -->
                <div class="action-buttons">
                    <button class="wb-btn" onclick="generateTestEvent('info')">‚ÑπÔ∏è Info</button>
                    <button class="wb-btn warning" onclick="generateTestEvent('warning')">‚ö†Ô∏è Warning</button>
                    <button class="wb-btn danger" onclick="generateTestEvent('error')">‚ùå Error</button>
                    <button class="wb-btn success" onclick="generateTestEvent('success')">‚úÖ Success</button>
                    <button class="wb-btn secondary" onclick="clearEventLog()">üóëÔ∏è Clear</button>
                </div>

                <!-- Live Event Log Display -->
                <div class="generated-preview">
                    <wb-event-log 
                        id="liveEventLog"
                        max-events="100"
                        auto-scroll="true"
                        show-timestamps="true"
                        show-source="true"
                        expandable-details="true"
                        toolbar="true"
                        search="true"
                        filters="true"
                        export="true">
                    </wb-event-log>
                </div>

                <!-- Event Statistics -->
                <div class="stats-grid">
                    <div class="stat-card">
                        <span class="stat-value" id="liveEventCount">0</span>
                        <span class="stat-label">Total Events</span>
                    </div>
                    <div class="stat-card">
                        <span class="stat-value" id="liveErrorCount">0</span>
                        <span class="stat-label">Errors</span>
                    </div>
                    <div class="stat-card">
                        <span class="stat-value" id="liveWarningCount">0</span>
                        <span class="stat-label">Warnings</span>
                    </div>
                    <div class="stat-card">
                        <span class="stat-value" id="liveInfoCount">0</span>
                        <span class="stat-label">Info</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Documentation Tab -->
        <div class="tab-content" data-tab="docs">
            <div class="wb-card">
                <h2 class="section-title">üìö Documentation</h2>
                
                <div class="doc-section">
                    <h3>üéØ Schema Overview</h3>
                    <p>
                        This JSON Schema defines all configurable attributes for the wb-event-log web component.
                        It includes type validation, default values, and comprehensive documentation for each property.
                    </p>
                </div>

                <div class="doc-section">
                    <h3>üöÄ Usage</h3>
                    <div class="code-example">&lt;wb-event-log 
    max-events="1000"
    auto-scroll="true"
    show-timestamps="true"
    theme="dark"&gt;
&lt;/wb-event-log&gt;</div>
                </div>

                <div class="doc-section">
                    <h3>‚ú® Key Features</h3>
                    <ul>
                        <li><strong>üîí Type Safety</strong> - Validates all attribute types automatically</li>
                        <li><strong>‚öôÔ∏è Default Values</strong> - Provides sensible defaults for all properties</li>
                        <li><strong>üìù Enumerations</strong> - Restricts values to valid options only</li>
                        <li><strong>üìö Documentation</strong> - Comprehensive descriptions for each property</li>
                        <li><strong>üéõÔ∏è Dynamic UI</strong> - Generates interactive controls from schema</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <!-- Load wb-event-log component -->
    <script src="wb-event-log.js"></script>
    
    <script>
        // Global variables
        let currentSchema = null;
        let liveStats = { total: 0, info: 0, warning: 0, error: 0, success: 0 };
        let currentConfig = {};
        let eventCounter = 0;

        // Sample configurations
        const sampleConfigs = {
            basic: {
                "max-events": 50,
                "auto-scroll": true,
                "show-timestamps": true,
                "show-source": false,
                "theme": "dark"
            },
            advanced: {
                "max-events": 200,
                "auto-scroll": true,
                "show-timestamps": true,
                "show-source": true,
                "expandable-details": true,
                "toolbar": true,
                "search": true,
                "filters": true,
                "export": true,
                "theme": "dark",
                "compact-mode": false,
                "group-similar": true
            }
        };

        // Mock schema for demonstration
        const mockSchema = {
            "$schema": "http://json-schema.org/draft-07/schema#",
            "title": "WB Event Log Configuration",
            "type": "object",
            "properties": {
                "max-events": {
                    "type": "integer",
                    "minimum": 10,
                    "maximum": 10000,
                    "default": 100,
                    "description": "Maximum number of events to store in the log"
                },
                "auto-scroll": {
                    "type": "boolean",
                    "default": true,
                    "description": "Automatically scroll to new events"
                },
                "show-timestamps": {
                    "type": "boolean",
                    "default": true,
                    "description": "Display timestamps for each event"
                },
                "show-source": {
                    "type": "boolean",
                    "default": false,
                    "description": "Display the source of each event"
                },
                "theme": {
                    "type": "string",
                    "enum": ["light", "dark", "auto"],
                    "default": "auto",
                    "description": "Visual theme for the event log"
                },
                "compact-mode": {
                    "type": "boolean",
                    "default": false,
                    "description": "Use compact display mode"
                },
                "expandable-details": {
                    "type": "boolean",
                    "default": false,
                    "description": "Make event details expandable"
                },
                "toolbar": {
                    "type": "boolean",
                    "default": true,
                    "description": "Show the toolbar with controls"
                },
                "search": {
                    "type": "boolean",
                    "default": false,
                    "description": "Enable search functionality"
                },
                "filters": {
                    "type": "boolean",
                    "default": false,
                    "description": "Enable event filtering"
                },
                "export": {
                    "type": "boolean",
                    "default": false,
                    "description": "Enable event export functionality"
                },
                "log-level": {
                    "type": "string",
                    "enum": ["debug", "info", "warn", "error"],
                    "default": "info",
                    "description": "Minimum log level to display"
                }
            }
        };

        // Tab management
        function initializeTabs() {
            const tabButtons = document.querySelectorAll('.tab-btn');
            const tabContents = document.querySelectorAll('.tab-content');

            tabButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const targetTab = button.getAttribute('data-tab');
                    
                    // Update buttons
                    tabButtons.forEach(btn => btn.classList.remove('active'));
                    button.classList.add('active');
                    
                    // Update content
                    tabContents.forEach(content => {
                        content.classList.remove('active');
                        if (content.getAttribute('data-tab') === targetTab) {
                            content.classList.add('active');
                        }
                    });
                });
            });
        }

        // Load and render schema
        function loadSchema() {
            // Use mock schema for demonstration
            currentSchema = mockSchema;
            renderSchema();
            generateDynamicControls();
            updateStats();
            loadExamples();
        }

        // Render schema tree
        function renderSchema() {
            if (!currentSchema || !currentSchema.properties) return;

            const container = document.getElementById('schemaTree');
            container.innerHTML = '';

            Object.entries(currentSchema.properties).forEach(([key, prop]) => {
                const div = document.createElement('div');
                div.className = 'schema-property';

                let html = `<span class="schema-key">${key}</span>`;
                
                if (prop.type) {
                    html += `<span class="schema-type">${prop.type}</span>`;
                }

                if (prop.enum) {
                    html += `<span class="schema-enum">[${prop.enum.join(', ')}]</span>`;
                }

                if (prop.default !== undefined) {
                    html += `<span class="schema-default">default: ${JSON.stringify(prop.default)}</span>`;
                }

                div.innerHTML = html;

                if (prop.description) {
                    const desc = document.createElement('div');
                    desc.className = 'schema-description';
                    desc.textContent = prop.description;
                    div.appendChild(desc);
                }

                container.appendChild(div);
            });
        }

        // Generate dynamic controls based on schema
        function generateDynamicControls() {
            if (!currentSchema || !currentSchema.properties) return;

            const container = document.getElementById('dynamicControls');
            container.innerHTML = '';

            Object.entries(currentSchema.properties).forEach(([key, prop]) => {
                const controlDiv = document.createElement('div');
                controlDiv.className = 'control-item';

                const label = document.createElement('label');
                label.className = 'control-label';
                label.textContent = key.replace(/-/g, ' ').toUpperCase();
                label.setAttribute('for', `control-${key}`);

                const description = document.createElement('div');
                description.className = 'control-description';
                description.textContent = prop.description || 'No description available';

                let input;

                if (prop.type === 'boolean') {
                    input = document.createElement('input');
                    input.type = 'checkbox';
                    input.className = 'control-checkbox';
                    input.checked = prop.default || false;
                } else if (prop.enum) {
                    input = document.createElement('select');
                    input.className = 'control-select';
                    prop.enum.forEach(option => {
                        const optionEl = document.createElement('option');
                        optionEl.value = option;
                        optionEl.textContent = option;
                        optionEl.selected = option === prop.default;
                        input.appendChild(optionEl);
                    });
                } else if (prop.type === 'integer') {
                    input = document.createElement('input');
                    input.type = 'number';
                    input.className = 'control-input';
                    input.min = prop.minimum || 0;
                    input.max = prop.maximum || 10000;
                    input.value = prop.default || 0;
                } else {
                    input = document.createElement('input');
                    input.type = 'text';
                    input.className = 'control-input';
                    input.value = prop.default || '';
                }

                input.id = `control-${key}`;
                input.addEventListener('change', updateConfiguration);

                controlDiv.appendChild(label);
                controlDiv.appendChild(description);
                controlDiv.appendChild(input);
                container.appendChild(controlDiv);

                // Initialize configuration
                if (prop.type === 'boolean') {
                    currentConfig[key] = input.checked;
                } else if (prop.type === 'integer') {
                    currentConfig[key] = parseInt(input.value);
                } else {
                    currentConfig[key] = input.value;
                }
            });

            updateConfigDisplay();
        }

        // Update configuration from controls
        function updateConfiguration() {
            if (!currentSchema) return;

            Object.keys(currentSchema.properties).forEach(key => {
                const input = document.getElementById(`control-${key}`);
                if (input) {
                    const prop = currentSchema.properties[key];
                    if (prop.type === 'boolean') {
                        currentConfig[key] = input.checked;
                    } else if (prop.type === 'integer') {
                        currentConfig[key] = parseInt(input.value);
                    } else {
                        currentConfig[key] = input.value;
                    }
                }
            });

            updateConfigDisplay();
        }

        // Update configuration display
        function updateConfigDisplay() {
            const configElement = document.getElementById('generatedConfig');
            if (configElement) {
                configElement.textContent = JSON.stringify(currentConfig, null, 2);
            }
        }

        // Copy generated configuration
        function copyGeneratedConfig() {
            navigator.clipboard.writeText(JSON.stringify(currentConfig, null, 2))
                .then(() => alert('Configuration copied to clipboard!'))
                .catch(() => alert('Failed to copy configuration'));
        }

        // Apply dynamic configuration to preview
        function applyDynamicConfig() {
            const previewContainer = document.getElementById('dynamicEventLog');
            previewContainer.innerHTML = `
                <div style="padding: var(--space-lg); text-align: center;">
                    <h4 style="color: var(--primary); margin-bottom: var(--space-md);">üéõÔ∏è Dynamic Configuration Applied</h4>
                    <p style="color: var(--text-secondary); margin-bottom: var(--space-lg);">wb-event-log configured with schema-generated settings:</p>
                    <div style="background: var(--bg-secondary); padding: var(--space-md); border-radius: var(--radius-md); font-family: var(--font-mono); font-size: var(--text-sm); text-align: left;">
                        ${JSON.stringify(currentConfig, null, 2)}
                    </div>
                </div>
            `;
        }

        // Update statistics
        function updateStats() {
            if (!currentSchema || !currentSchema.properties) return;

            let stats = { properties: 0, enums: 0, defaults: 0, booleans: 0 };

            Object.values(currentSchema.properties).forEach(prop => {
                stats.properties++;
                if (prop.enum) stats.enums++;
                if (prop.default !== undefined) stats.defaults++;
                if (prop.type === 'boolean') stats.booleans++;
            });

            document.getElementById('totalProperties').textContent = stats.properties;
            document.getElementById('enumCount').textContent = stats.enums;
            document.getElementById('defaultCount').textContent = stats.defaults;
            document.getElementById('booleanCount').textContent = stats.booleans;
        }

        // Load examples
        function loadExamples() {
            document.getElementById('basicExample').textContent = JSON.stringify(sampleConfigs.basic, null, 2);
            document.getElementById('advancedExample').textContent = JSON.stringify(sampleConfigs.advanced, null, 2);
        }

        // Copy example
        function copyExample(type) {
            const config = sampleConfigs[type];
            if (config) {
                navigator.clipboard.writeText(JSON.stringify(config, null, 2))
                    .then(() => alert(`${type} configuration copied to clipboard!`))
                    .catch(() => alert('Failed to copy configuration'));
            }
        }

        // Generate test events
        function generateTestEvent(type) {
            eventCounter++;
            liveStats.total++;
            liveStats[type]++;

            const messages = {
                info: [`System initialized successfully #${eventCounter}`, `User logged in #${eventCounter}`, `Data processed #${eventCounter}`],
                warning: [`Memory usage high #${eventCounter}`, `Slow query detected #${eventCounter}`, `Cache miss #${eventCounter}`],
                error: [`Database connection failed #${eventCounter}`, `Authentication error #${eventCounter}`, `File not found #${eventCounter}`],
                success: [`Operation completed #${eventCounter}`, `Backup successful #${eventCounter}`, `Deployment finished #${eventCounter}`]
            };

            const message = messages[type][Math.floor(Math.random() * messages[type].length)];
            const timestamp = new Date().toLocaleTimeString();

            const eventLog = document.getElementById('liveEventLog');
            const eventDiv = document.createElement('div');
            eventDiv.style.cssText = `
                padding: var(--space-md);
                margin-bottom: var(--space-sm);
                border-left: 4px solid var(--${type === 'info' ? 'primary' : type === 'success' ? 'success-color' : type === 'warning' ? 'warning-color' : 'error-color'});
                background: var(--bg-secondary);
                border-radius: var(--radius-md);
                font-family: var(--font-mono);
                font-size: var(--text-sm);
            `;
            
            eventDiv.innerHTML = `
                <div style="display: flex; justify-content: space-between; align-items: center;">
                    <span style="color: var(--${type === 'info' ? 'primary' : type === 'success' ? 'success-color' : type === 'warning' ? 'warning-color' : 'error-color'}); font-weight: var(--font-bold);">[${type.toUpperCase()}]</span>
                    <span style="color: var(--text-secondary); font-size: var(--text-xs);">${timestamp}</span>
                </div>
                <div style="margin-top: var(--space-xs); color: var(--text-primary);">${message}</div>
            `;

            if (eventLog.firstChild && eventLog.firstChild.textContent.includes('Click the buttons')) {
                eventLog.innerHTML = '';
            }

            eventLog.appendChild(eventDiv);
            eventLog.scrollTop = eventLog.scrollHeight;

            updateLiveStats();
        }

        // Clear event log
        function clearEventLog() {
            const eventLog = document.getElementById('liveEventLog');
            eventLog.innerHTML = '<div style="text-align: center; color: var(--text-secondary); padding: var(--space-xl);">Click the buttons above to generate test events</div>';
            
            liveStats = { total: 0, info: 0, warning: 0, error: 0, success: 0 };
            updateLiveStats();
        }

        // Update live statistics
        function updateLiveStats() {
            const elements = {
                liveEventCount: liveStats.total,
                liveErrorCount: liveStats.error,
                liveWarningCount: liveStats.warning,
                liveInfoCount: liveStats.info
            };

            Object.entries(elements).forEach(([id, value]) => {
                const element = document.getElementById(id);
                if (element) element.textContent = value;
            });
        }

        // Validation functions
        function validateJSON() {
            const input = document.getElementById('jsonInput').value.trim();
            const result = document.getElementById('validationResult');
            
            if (!input) {
                result.style.display = 'block';
                result.className = 'validation-result invalid';
                result.textContent = 'Please enter JSON to validate';
                return;
            }

            try {
                const parsed = JSON.parse(input);
                result.style.display = 'block';
                result.className = 'validation-result valid';
                result.textContent = '‚úÖ Valid JSON! Configuration looks good.';
            } catch (error) {
                result.style.display = 'block';
                result.className = 'validation-result invalid';
                result.textContent = `‚ùå Invalid JSON: ${error.message}`;
            }
        }

        function clearValidator() {
            document.getElementById('jsonInput').value = '';
            document.getElementById('validationResult').style.display = 'none';
        }

        function loadSample() {
            document.getElementById('jsonInput').value = JSON.stringify(sampleConfigs.basic, null, 2);
        }

        // Search functionality
        function setupSearch() {
            const searchInput = document.getElementById('schemaSearch');
            if (searchInput) {
                searchInput.addEventListener('input', (e) => {
                    const query = e.target.value.toLowerCase();
                    const properties = document.querySelectorAll('.schema-property');
                    
                    properties.forEach(prop => {
                        const text = prop.textContent.toLowerCase();
                        if (text.includes(query) || query === '') {
                            prop.style.display = 'block';
                        } else {
                            prop.style.display = 'none';
                        }
                    });
                });
            }
        }

        // Initialize everything
        document.addEventListener('DOMContentLoaded', () => {
            console.log('üöÄ WB Event Log Schema Viewer - Professional Edition');
            
            initializeTabs();
            loadSchema();
            setupSearch();
            
            // Initial configuration display
            setTimeout(() => {
                updateConfiguration();
                applyDynamicConfig();
            }, 500);
        });
    </script>
</body>
</html>







