<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WB Color Bar Component Demo</title>
    
    <!-- Central Styles Import -->
    <!-- Website Builder Main Styles (Variables, Base, Utilities) -->
    <link rel="stylesheet" href="..../styles/main.css">    <style>
        body {
            padding: var(--space-lg);
            transition: background-color var(--transition-medium), color var(--transition-medium);
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: var(--bg-secondary);
            padding: var(--space-xl);
            border-radius: var(--radius-xl);
            box-shadow: var(--shadow-md);
        }
        
        h1 {
            color: var(--primary);
            text-align: center;
            margin-bottom: var(--space-xl);
        }
        
        .demo-section {
            margin: var(--space-xl) 0;
            padding: var(--space-lg);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-lg);
            background: var(--bg-tertiary);
        }
        
        .demo-section h3 {
            margin-top: 0;
            color: var(--primary);
        }
        
        .output {
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-base);
            padding: 15px;
            margin: 15px 0;
            font-family: monospace;
            font-size: 13px;
            white-space: pre-wrap;
            color: #e6e1e5;
        }
        
        /* Tab Styles */
        .tabs {
            display: flex;
            gap: var(--space-sm);
            margin-bottom: var(--space-lg);
            border-bottom: 2px solid var(--border-color);
        }
        
        .tab {
            padding: var(--space-sm) var(--space-lg);
            background: none;
            border: none;
            border-bottom: 3px solid transparent;
            color: var(--text-secondary);
            font-size: var(--text-base);
            font-weight: var(--font-medium);
            cursor: pointer;
            transition: all var(--transition-base);
        }
        
        .tab:hover {
            color: var(--text-primary);
            background: var(--bg-secondary);
        }
        
        .tab.active {
            color: var(--primary);
            border-bottom-color: var(--primary);
        }
        
        .tab-content {
            display: none;
            animation: fadeIn 0.3s ease-in;
        }
        
        .tab-content.active {
            display: block;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        
        .theme-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #6366f1;
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 6px;
            cursor: pointer;
            z-index: 1000;
        }
        
        /* Light theme overrides */
        body.light {
            background: #f5f5f5;
            color: #1a1a1a;
        }
        
        body.light .container {
            background: white;
            color: #1a1a1a;
        }
        
        body.light .demo-section {
            border-color: #e0e0e0;
            background: #fafafa;
        }
        
        body.light .output {
            background: #f8f9fa;
            border-color: #e9ecef;
            color: #1a1a1a;
        }
        
        /* Light theme tab overrides */
        body.light .tabs {
            border-bottom-color: #e0e0e0;
        }
        
        body.light .tab {
            color: #666;
        }
        
        body.light .tab:hover {
            background: rgba(99, 102, 241, 0.05);
            color: #333;
        }
        
        body.light .tab.active {
            color: #6366f1;
        }
        
        .documentation-output {
            text-align: left;
            white-space: pre-line;
            font-family: inherit;
            line-height: 1.6;
        }
    </style>
</head>
<body data-theme="dark">
    <button class="theme-toggle" onclick="toggleTheme()">‚òÄÔ∏è Light Mode</button>
    
    <div class="container">
        <h1>WB Color Bar Component Demo</h1>
        <p>A reusable, accessible color picker component extracted from the Material Design Color Picker.</p>
        
        <!-- Tab Navigation -->
        <div class="tabs">
            <button class="tab active" onclick="showTab('examples')">üé® Examples</button>
            <button class="tab" onclick="showTab('documentation')">üìö Documentation</button>
        </div>
        
        <!-- Examples Tab -->
        <div class="tab-content active" id="examples-tab">
            <!-- Hue Color Bar -->
            <div class="demo-section">
                <h3>Hue Color Bar</h3>
                <p>Color spectrum bar for hue selection:</p>
                <p><strong>Keyboard Controls:</strong> Click on the color bar to focus it, then use:</p>
                <ul>
                    <li><strong>Arrow Keys</strong> - Adjust hue by 1¬∞ (hold <kbd>Shift</kbd> for 10¬∞)
                        <ul>
                            <li><kbd>‚Üê</kbd> / <kbd>‚Üì</kbd> - Decrease hue</li>
                            <li><kbd>‚Üí</kbd> / <kbd>‚Üë</kbd> - Increase hue</li>
                        </ul>
                    </li>
                    <li><kbd>Home</kbd> - Jump to red (0¬∞)</li>
                    <li><kbd>End</kbd> - Jump to red (360¬∞)</li>
                </ul>
                <wb-color-bar id="hue-color-bar" type="hue" hue="240" saturation="70" lightness="50" theme="dark">
                    <span slot="label">Hue Spectrum</span>
                </wb-color-bar>
            </div>
            
            <!-- Saturation Grayscale Bar -->
            <div class="demo-section">
                <h3>Saturation Grayscale Bar</h3>
                <p>Grayscale bar for saturation selection (from gray to full color):</p>
                                <wb-color-bar id="saturation-bar" type="saturation" hue="240" saturation="70" lightness="50" value="70" theme="dark">
                    <!-- Fallback content -->
                </wb-color-bar>
            </div>
            
            <!-- Lightness Grayscale Bar -->
            <div class="demo-section">
                <h3>Lightness Grayscale Bar</h3>
                <p>Grayscale bar for lightness selection (from black to white):</p>
                <wb-color-bar id="lightness-bar" type="lightness" hue="240" saturation="70" lightness="50" value="50" theme="dark">
                    <span slot="label">Lightness</span>
                </wb-color-bar>
            </div>
            
            <!-- Global Page Event Log -->
            <div class="demo-section">
                <h3>Global Page Event Log</h3>
                <p>All events from all color bars on this page are logged below:</p>
                
                <h4>Page-Wide Event Log</h4>
                <div class="output" id="global-event-log">All page events will appear here...</div>
                <button onclick="clearEventLog()" style="margin-top: 10px; padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 4px; cursor: pointer;">Clear Log</button>
            </div>
            
            <!-- Code Examples -->
            <div class="demo-section">
                <h3>üíª Code Examples</h3>
                <p>Here's the HTML code used to create the color bars on this page:</p>
                
                <h4>Basic Hue Color Bar</h4>
                <pre class="output" style="white-space: pre-wrap; font-family: 'Courier New', monospace; font-size: 12px; background: var(--bg-secondary); padding: 15px; border-radius: var(--radius-base); overflow-x: auto;">&lt;wb-color-bar id="hue-color-bar" type="hue" hue="240" saturation="70" lightness="50" theme="dark"&gt;
    &lt;span slot="label"&gt;Hue Spectrum&lt;/span&gt;
&lt;/wb-color-bar&gt;</pre>
                
                <h4>Saturation Color Bar</h4>
                <pre class="output" style="white-space: pre-wrap; font-family: 'Courier New', monospace; font-size: 12px; background: var(--bg-secondary); padding: 15px; border-radius: var(--radius-base); overflow-x: auto;">&lt;wb-color-bar id="saturation-bar" type="saturation" hue="240" saturation="70" lightness="50" value="70" theme="dark"&gt;
    &lt;!-- Fallback content --&gt;
&lt;/wb-color-bar&gt;</pre>
                
                <h4>Lightness Color Bar</h4>
                <pre class="output" style="white-space: pre-wrap; font-family: 'Courier New', monospace; font-size: 12px; background: var(--bg-secondary); padding: 15px; border-radius: var(--radius-base); overflow-x: auto;">&lt;wb-color-bar id="lightness-bar" type="lightness" hue="240" saturation="70" lightness="50" value="50" theme="dark"&gt;
    &lt;span slot="label"&gt;Lightness&lt;/span&gt;
&lt;/wb-color-bar&gt;</pre>
                
                <h4>Event Listeners (JavaScript)</h4>
                <pre class="output" style="white-space: pre-wrap; font-family: 'Courier New', monospace; font-size: 12px; background: var(--bg-secondary); padding: 15px; border-radius: var(--radius-base); overflow-x: auto;">// Listen for color changes
document.getElementById('hue-color-bar').addEventListener('colorchange', (e) => {
    console.log('Color changed:', e.detail.hex);
    console.log('HSL values:', e.detail.hue, e.detail.saturation, e.detail.lightness);
});

// Listen for color selection complete
document.getElementById('hue-color-bar').addEventListener('colorselect', (e) => {
    console.log('Color selected:', e.detail.hex);
});</pre>
                
                <h4>Component Import</h4>
                <pre class="output" style="white-space: pre-wrap; font-family: 'Courier New', monospace; font-size: 12px; background: var(--bg-secondary); padding: 15px; border-radius: var(--radius-base); overflow-x: auto;">&lt;!-- Load the color bar component --&gt;
&lt;script src="wb-color-bar.js"&gt;&lt;/script&gt;</pre>
            </div>
        </div>
        
        <!-- Documentation Tab -->
        <div class="tab-content" id="documentation-tab">
            <div class="demo-section">
                <h3>üìö Documentation</h3>
                <p>Complete documentation for the Color Bar Web Component.</p>
                <div class="output documentation-output">
                    <strong>Note:</strong> Full documentation is available in <code>color-bar.md</code>
                    
                    <h4>Quick Reference:</h4>
                    
                    <strong>Basic Usage:</strong>
                    &lt;wb-color-bar hue="240" saturation="70" lightness="50"&gt;&lt;/wb-color-bar&gt;
                    
                    <strong>Events:</strong>
                    ‚Ä¢ colorchange - Fires during color selection
                    ‚Ä¢ colorselect - Fires when selection is complete
                    
                    <strong>Properties:</strong>
                    ‚Ä¢ hue (0-360) - Color hue in degrees
                    ‚Ä¢ saturation (0-100) - Color saturation percentage  
                    ‚Ä¢ lightness (0-100) - Color lightness percentage
                    ‚Ä¢ theme - 'light' or 'dark' theme
                    
                    <strong>Keyboard Controls:</strong>
                    ‚Ä¢ Arrow keys - Adjust hue by 1¬∞ (Shift+arrow for 10¬∞)
                    ‚Ä¢ Home/End - Jump to red (0¬∞/360¬∞)
                    
                    <strong>API Methods:</strong>
                    ‚Ä¢ setColor(hue, saturation, lightness)
                    ‚Ä¢ color property - Get current color data
                </div>
            </div>
        </div>
    </div>

    <!-- Load components -->
    <script src="..../styles/main.js"></script>
    <script src="wb-color-bar-bundle.js"></script>
    
    <script>
        let currentTheme = 'dark';
        
        // Global page event logging - captures ALL events from ALL color bars
        function logEvent(eventType, event, elementId) {
            const logDiv = document.getElementById('global-event-log');
            const timestamp = new Date().toLocaleTimeString();
            
            let logEntry = `${timestamp} [${elementId}] ${eventType}: `;
            
            if (event.detail) {
                if (event.detail.hex) {
                    logEntry += `Color: ${event.detail.hex}`;
                }
                if (event.detail.hue !== undefined) {
                    logEntry += ` (H:${Math.round(event.detail.hue)}¬∞`;
                }
                if (event.detail.saturation !== undefined) {
                    logEntry += ` S:${Math.round(event.detail.saturation)}%`;
                }
                if (event.detail.lightness !== undefined) {
                    logEntry += ` L:${Math.round(event.detail.lightness)}%)`;
                }
                if (event.detail.value !== undefined) {
                    logEntry += ` Value:${event.detail.value}%`;
                }
            }
            
            const isSelect = eventType === 'colorselect';
            const logHtml = isSelect ? `<strong>${logEntry}</strong>` : logEntry;
            
            logDiv.innerHTML = logHtml + '<br>' + logDiv.innerHTML;
            
            // Keep only last 50 entries to prevent memory issues
            const lines = logDiv.innerHTML.split('<br>');
            if (lines.length > 50) {
                logDiv.innerHTML = lines.slice(0, 50).join('<br>');
            }
        }
        
        // Function to clear the event log
        function clearEventLog() {
            document.getElementById('global-event-log').innerHTML = 'Event log cleared...';
        }
        
        // Add global event listeners to all color bars on the page
        function setupGlobalEventLogging() {
            document.querySelectorAll('wb-color-bar').forEach(colorBar => {
                const elementId = colorBar.id || 'unnamed-color-bar';
                
                colorBar.addEventListener('colorchange', (e) => {
                    logEvent('colorchange', e, elementId);
                });
                
                colorBar.addEventListener('colorselect', (e) => {
                    logEvent('colorselect', e, elementId);
                });
                
                // Also log any other custom events
                colorBar.addEventListener('wb:info', (e) => {
                    logEvent('wb:info', e, elementId);
                });
            });
        }
        
        // Tab switching
        function showTab(tabName) {
            // Hide all tab contents
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
                tab.style.display = 'none';
            });
            
            // Remove active class from all tab buttons
            document.querySelectorAll('.tab').forEach(button => {
                button.classList.remove('active');
            });
            
            // Show selected tab content
            const targetTab = document.getElementById(tabName + '-tab');
            if (targetTab) {
                targetTab.classList.add('active');
                targetTab.style.display = 'block';
            }
            
            // Add active class to clicked button
            event.target.classList.add('active');
        }
        
        // Theme toggle
        function toggleTheme() {
            document.body.classList.toggle('light');
            const isLight = document.body.classList.contains('light');
            currentTheme = isLight ? 'light' : 'dark';
            
            // Update theme toggle button
            const button = document.querySelector('.theme-toggle');
            button.textContent = isLight ? 'üåô Dark Mode' : '‚òÄÔ∏è Light Mode';
            
            // Update all color bars
            document.querySelectorAll('wb-color-bar').forEach(colorBar => {
                colorBar.setAttribute('theme', currentTheme);
            });
            
            // Update md-to-html
            document.querySelectorAll('md-to-html').forEach(mdElement => {
                mdElement.setAttribute('theme', currentTheme);
            });
        }
        
        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            // Setup global event logging for all color bars
            setupGlobalEventLogging();
            
            // Log initialization
            document.getElementById('global-event-log').innerHTML = 'Demo initialized - all color bar events will be logged here...';
            
            document.dispatchEvent(new CustomEvent('wb:info', {
                detail: { 
                    message: 'Color Bar Demo: Components loaded and ready',
                    source: 'demo-page'
                }
            }));
        });
    </script>
</body>
</html>
